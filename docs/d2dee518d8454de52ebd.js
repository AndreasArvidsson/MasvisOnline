!function(t){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){var i,a,n,s;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(){return function t(e,r,i){function a(s,o){if(!r[s]){if(!e[s]){if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};e[s][0].call(f.exports,(function(t){var r=e[s][1][t];return a(r||t)}),f,f.exports,t,e,r,i)}return r[s].exports}for(var n=!1,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){var i,a,n;for(i in n=t("./src/aurora"))a=n[i],r[i]=a;t("./src/devices/webaudio"),t("./src/devices/mozilla")},{"./src/aurora":3,"./src/devices/mozilla":22,"./src/devices/webaudio":24}],2:[function(t,e,r){var i,a,n,s,o,f,h,l=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty;o=t("./core/events"),h=t("./sources/node/http"),f=t("./sources/node/file"),a=t("./sources/buffer"),s=t("./demuxer"),n=t("./decoder"),i=function(t){function e(t){var e;this.source=t,this._decode=l(this._decode,this),this.findDecoder=l(this.findDecoder,this),this.probe=l(this.probe,this),this.buffered=0,this.duration=null,this.format=null,this.metadata=null,this.active=!1,this.demuxer=null,this.decoder=null,this.source.once("data",this.probe),this.source.on("error",(e=this,function(t){return e.emit("error",t),e.stop()})),this.source.on("progress",function(t){return function(e){return t.buffered=e,t.emit("buffer",t.buffered)}}(this))}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.fromURL=function(t){return new e(new h(t))},e.fromFile=function(t){return new e(new f(t))},e.fromBuffer=function(t){return new e(new a(t))},e.prototype.start=function(t){if(!this.active)return null!=t&&(this.shouldDecode=t),null==this.shouldDecode&&(this.shouldDecode=!0),this.active=!0,this.source.start(),this.decoder&&this.shouldDecode?this._decode():void 0},e.prototype.stop=function(){if(this.active)return this.active=!1,this.source.pause()},e.prototype.get=function(t,e){var r;if("format"===t||"duration"===t||"metadata"===t)return null!=this[t]?e(this[t]):(this.once(t,(r=this,function(t){return r.stop(),e(t)})),this.start())},e.prototype.decodePacket=function(){return this.decoder.decode()},e.prototype.decodeToBuffer=function(t){var e,r,i;return i=0,e=[],this.on("data",r=function(t){return i+=t.length,e.push(t)}),this.once("end",(function(){var a,n,s,o,f;for(a=new Float32Array(i),s=0,o=0,f=e.length;o<f;o++)n=e[o],a.set(n,s),s+=n.length;return this.off("data",r),t(a)})),this.start()},e.prototype.probe=function(t){var e,r;if(this.active)return(e=s.find(t))?(this.demuxer=new e(this.source,t),this.demuxer.on("format",this.findDecoder),this.demuxer.on("duration",(r=this,function(t){return r.duration=t,r.emit("duration",r.duration)})),this.demuxer.on("metadata",function(t){return function(e){return t.metadata=e,t.emit("metadata",t.metadata)}}(this)),this.demuxer.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this))):this.emit("error","A demuxer for this container was not found.")},e.prototype.findDecoder=function(t){var e,r,i;if(this.format=t,this.active)return this.emit("format",this.format),(e=n.find(this.format.formatID))?(this.decoder=new e(this.demuxer,this.format),this.format.floatingPoint?this.decoder.on("data",(i=this,function(t){return i.emit("data",t)})):(r=Math.pow(2,this.format.bitsPerChannel-1),this.decoder.on("data",function(t){return function(e){var i,a,n,s,o;for(i=new Float32Array(e.length),a=s=0,o=e.length;s<o;a=++s)n=e[a],i[a]=n/r;return t.emit("data",i)}}(this))),this.decoder.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this)),this.decoder.on("end",function(t){return function(){return t.emit("end")}}(this)),this.emit("decodeStart"),this.shouldDecode?this._decode():void 0):this.emit("error","A decoder for "+this.format.formatID+" was not found.")},e.prototype._decode=function(){for(;this.decoder.decode()&&this.active;);if(this.active)return this.decoder.once("data",this._decode)},e}(o),e.exports=i},{"./core/events":9,"./decoder":12,"./demuxer":15,"./sources/buffer":32,"./sources/node/file":30,"./sources/node/http":31}],3:[function(t,e,r){var i,a,n;for(i in n=t("./aurora_base"))a=n[i],r[i]=a;t("./demuxers/caf"),t("./demuxers/m4a"),t("./demuxers/aiff"),t("./demuxers/wave"),t("./demuxers/au"),t("./decoders/lpcm"),t("./decoders/xlaw")},{"./aurora_base":4,"./decoders/lpcm":13,"./decoders/xlaw":14,"./demuxers/aiff":16,"./demuxers/au":17,"./demuxers/caf":18,"./demuxers/m4a":19,"./demuxers/wave":20}],4:[function(t,e,r){r.Base=t("./core/base"),r.Buffer=t("./core/buffer"),r.BufferList=t("./core/bufferlist"),r.Stream=t("./core/stream"),r.Bitstream=t("./core/bitstream"),r.EventEmitter=t("./core/events"),r.UnderflowError=t("./core/underflow"),r.HTTPSource=t("./sources/node/http"),r.FileSource=t("./sources/node/file"),r.BufferSource=t("./sources/buffer"),r.Demuxer=t("./demuxer"),r.Decoder=t("./decoder"),r.AudioDevice=t("./device"),r.Asset=t("./asset"),r.Player=t("./player"),r.Filter=t("./filter"),r.VolumeFilter=t("./filters/volume"),r.BalanceFilter=t("./filters/balance")},{"./asset":2,"./core/base":5,"./core/bitstream":6,"./core/buffer":7,"./core/bufferlist":8,"./core/events":9,"./core/stream":10,"./core/underflow":11,"./decoder":12,"./demuxer":15,"./device":21,"./filter":25,"./filters/balance":26,"./filters/volume":27,"./player":28,"./sources/buffer":32,"./sources/node/file":30,"./sources/node/http":31}],5:[function(t,e,r){var i,a={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};i=function(){var t;function e(){}return t=/\b_super\b/,e.extend=function(e){var r,i,s,o,f,h;if(r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e}(this),"function"==typeof e)for(s in o=Object.keys(r.prototype),e.call(r,r),e={},f=r.prototype)i=f[s],n.call(o,s)<0&&(e[s]=i);for(s in h=r.__super__,e)"function"==typeof(i=e[s])&&t.test(i)?function(t,e){r.prototype[t]=function(){var r,i;return i=this._super,this._super=h[t],r=e.apply(this,arguments),this._super=i,r}}(s,i):r.prototype[s]=i;return r},e}(),e.exports=i},{}],6:[function(t,e,r){var i;i=function(){function t(t){this.stream=t,this.bitPosition=0}return t.prototype.copy=function(){var e;return(e=new t(this.stream.copy())).bitPosition=this.bitPosition,e},t.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition},t.prototype.available=function(t){return this.stream.available((t+8-this.bitPosition)/8)},t.prototype.advance=function(t){var e;return e=this.bitPosition+t,this.stream.advance(e>>3),this.bitPosition=7&e},t.prototype.rewind=function(t){var e;return e=this.bitPosition-t,this.stream.rewind(Math.abs(e>>3)),this.bitPosition=7&e},t.prototype.seek=function(t){var e;return t>(e=this.offset())?this.advance(t-e):t<e?this.rewind(e-t):void 0},t.prototype.align=function(){if(0!==this.bitPosition)return this.bitPosition=0,this.stream.advance(1)},t.prototype.read=function(t,e){var r,i;if(0===t)return 0;if((i=t+this.bitPosition)<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(i<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(i<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(i<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(i<=40))throw new Error("Too many bits!");r=4294967296*this.stream.peekUInt8(0)+(this.stream.peekUInt8(1)<<24>>>0)+(this.stream.peekUInt8(2)<<16)+(this.stream.peekUInt8(3)<<8)+this.stream.peekUInt8(4),r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-t))}return e&&(i<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),this.advance(t),r},t.prototype.peek=function(t,e){var r,i;if(0===t)return 0;if((i=t+this.bitPosition)<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(i<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(i<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(i<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(i<=40))throw new Error("Too many bits!");r=4294967296*this.stream.peekUInt8(0)+(this.stream.peekUInt8(1)<<24>>>0)+(this.stream.peekUInt8(2)<<16)+(this.stream.peekUInt8(3)<<8)+this.stream.peekUInt8(4),r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-t))}return e&&(i<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),r},t.prototype.readLSB=function(t,e){var r,i;if(0===t)return 0;if(t>40)throw new Error("Too many bits!");return i=t+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,i>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),i>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),i>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),i>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),i>=32?r%=Math.pow(2,t):r&=(1<<t)-1,e&&(i<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),this.advance(t),r},t.prototype.peekLSB=function(t,e){var r,i;if(0===t)return 0;if(t>40)throw new Error("Too many bits!");return i=t+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,i>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),i>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),i>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),i>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),i>=32?r%=Math.pow(2,t):r&=(1<<t)-1,e&&(i<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),r},t}(),e.exports=i},{}],7:[function(t,e,r){(function(t){var r;r=function(){var e,r;function i(e){var r;if(e instanceof Uint8Array)this.data=e;else if(e instanceof ArrayBuffer||Array.isArray(e)||"number"==typeof e||(null!=(r=t.Buffer)?r.isBuffer(e):void 0))this.data=new Uint8Array(e);else if(e.buffer instanceof ArrayBuffer)this.data=new Uint8Array(e.buffer,e.byteOffset,e.length*e.BYTES_PER_ELEMENT);else{if(!(e instanceof i))throw new Error("Constructing buffer with unknown type.");this.data=e.data}this.length=this.data.length,this.next=null,this.prev=null}return i.allocate=function(t){return new i(t)},i.prototype.copy=function(){return new i(new Uint8Array(this.data))},i.prototype.slice=function(t,e){return null==e&&(e=this.length),0===t&&e>=this.length?new i(this.data):new i(this.data.subarray(t,t+e))},e=t.BlobBuilder||t.MozBlobBuilder||t.WebKitBlobBuilder,r=t.URL||t.webkitURL||t.mozURL,i.makeBlob=function(t,r){var i;null==r&&(r="application/octet-stream");try{return new Blob([t],{type:r})}catch(t){}return null!=e?((i=new e).append(t),i.getBlob(r)):null},i.makeBlobURL=function(t,e){return null!=r?r.createObjectURL(this.makeBlob(t,e)):void 0},i.revokeBlobURL=function(t){return null!=r?r.revokeObjectURL(t):void 0},i.prototype.toBlob=function(){return i.makeBlob(this.data.buffer)},i.prototype.toBlobURL=function(){return i.makeBlobURL(this.data.buffer)},i}(),e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,r){var i;i=function(){function t(){this.first=null,this.last=null,this.numBuffers=0,this.availableBytes=0,this.availableBuffers=0}return t.prototype.copy=function(){var e;return(e=new t).first=this.first,e.last=this.last,e.numBuffers=this.numBuffers,e.availableBytes=this.availableBytes,e.availableBuffers=this.availableBuffers,e},t.prototype.append=function(t){var e;return t.prev=this.last,null!=(e=this.last)&&(e.next=t),this.last=t,null==this.first&&(this.first=t),this.availableBytes+=t.length,this.availableBuffers++,this.numBuffers++},t.prototype.advance=function(){return!!this.first&&(this.availableBytes-=this.first.length,this.availableBuffers--,this.first=this.first.next,null!=this.first)},t.prototype.rewind=function(){var t;return!(this.first&&!this.first.prev)&&(this.first=(null!=(t=this.first)?t.prev:void 0)||this.last,this.first&&(this.availableBytes+=this.first.length,this.availableBuffers++),null!=this.first)},t.prototype.reset=function(){var t;for(t=[];this.rewind(););return t},t}(),e.exports=i},{}],9:[function(t,e,r){var i,a={}.hasOwnProperty,n=[].slice;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.on=function(t,e){var r;return null==this.events&&(this.events={}),null==(r=this.events)[t]&&(r[t]=[]),this.events[t].push(e)},e.prototype.off=function(t,e){var r,i;if(null!=(i=this.events)?i[t]:void 0)return~(r=this.events[t].indexOf(e))?this.events[t].splice(r,1):void 0},e.prototype.once=function(t,e){var r;return this.on(t,r=function(){return this.off(t,r),e.apply(this,arguments)})},e.prototype.emit=function(){var t,e,r,i,a,s;if(e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],null!=(a=this.events)?a[e]:void 0)for(r=0,i=(s=this.events[e].slice()).length;r<i;r++)s[r].apply(this,t)},e}(t("./base")),e.exports=i},{"./base":5}],10:[function(t,e,r){var i,a,n,s;a=t("./bufferlist"),i=t("./buffer"),s=t("./underflow"),n=function(){var t,e,r,n,o,f,h,l,u,c,d,p,m;function v(t){this.list=t,this.localOffset=0,this.offset=0}return t=new ArrayBuffer(16),m=new Uint8Array(t),u=new Int8Array(t),d=new Uint16Array(t),h=new Int16Array(t),p=new Uint32Array(t),l=new Int32Array(t),r=new Float32Array(t),"undefined"!=typeof Float64Array&&null!==Float64Array&&(n=new Float64Array(t)),c=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],v.fromBuffer=function(t){var e;return(e=new a).append(t),new v(e)},v.prototype.copy=function(){var t;return(t=new v(this.list.copy())).localOffset=this.localOffset,t.offset=this.offset,t},v.prototype.available=function(t){return t<=this.list.availableBytes-this.localOffset},v.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset},v.prototype.advance=function(t){if(!this.available(t))throw new s;for(this.localOffset+=t,this.offset+=t;this.list.first&&this.localOffset>=this.list.first.length;)this.localOffset-=this.list.first.length,this.list.advance();return this},v.prototype.rewind=function(t){if(t>this.offset)throw new s;for(this.list.first||(this.list.rewind(),this.localOffset=this.list.first.length),this.localOffset-=t,this.offset-=t;this.list.first.prev&&this.localOffset<0;)this.list.rewind(),this.localOffset+=this.list.first.length;return this},v.prototype.seek=function(t){return t>this.offset?this.advance(t-this.offset):t<this.offset?this.rewind(this.offset-t):void 0},v.prototype.readUInt8=function(){var t;if(!this.available(1))throw new s;return t=this.list.first.data[this.localOffset],this.localOffset+=1,this.offset+=1,this.localOffset===this.list.first.length&&(this.localOffset=0,this.list.advance()),t},v.prototype.peekUInt8=function(t){var e;if(null==t&&(t=0),!this.available(t+1))throw new s;for(t=this.localOffset+t,e=this.list.first;e;){if(e.length>t)return e.data[t];t-=e.length,e=e.next}return 0},v.prototype.read=function(t,e){var r,i,a;if(null==e&&(e=!1),e===c)for(r=i=0;i<t;r=i+=1)m[r]=this.readUInt8();else for(r=a=t-1;a>=0;r=a+=-1)m[r]=this.readUInt8()},v.prototype.peek=function(t,e,r){var i,a,n;if(null==r&&(r=!1),r===c)for(i=a=0;a<t;i=a+=1)m[i]=this.peekUInt8(e+i);else for(i=n=0;n<t;i=n+=1)m[t-i-1]=this.peekUInt8(e+i)},v.prototype.readInt8=function(){return this.read(1),u[0]},v.prototype.peekInt8=function(t){return null==t&&(t=0),this.peek(1,t),u[0]},v.prototype.readUInt16=function(t){return this.read(2,t),d[0]},v.prototype.peekUInt16=function(t,e){return null==t&&(t=0),this.peek(2,t,e),d[0]},v.prototype.readInt16=function(t){return this.read(2,t),h[0]},v.prototype.peekInt16=function(t,e){return null==t&&(t=0),this.peek(2,t,e),h[0]},v.prototype.readUInt24=function(t){return t?this.readUInt16(!0)+(this.readUInt8()<<16):(this.readUInt16()<<8)+this.readUInt8()},v.prototype.peekUInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekUInt8(t+2)<<16):(this.peekUInt16(t)<<8)+this.peekUInt8(t+2)},v.prototype.readInt24=function(t){return t?this.readUInt16(!0)+(this.readInt8()<<16):(this.readInt16()<<8)+this.readUInt8()},v.prototype.peekInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekInt8(t+2)<<16):(this.peekInt16(t)<<8)+this.peekUInt8(t+2)},v.prototype.readUInt32=function(t){return this.read(4,t),p[0]},v.prototype.peekUInt32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),p[0]},v.prototype.readInt32=function(t){return this.read(4,t),l[0]},v.prototype.peekInt32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),l[0]},v.prototype.readFloat32=function(t){return this.read(4,t),r[0]},v.prototype.peekFloat32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),r[0]},v.prototype.readFloat64=function(t){return this.read(8,t),n?n[0]:o()},o=function(){var t,e,r,i,a,n;return i=p[0],(r=p[1])&&2147483648!==r?(n=1-2*(r>>>31),e=1048575&r,2047==(t=r>>>20&2047)?e?NaN:n*(1/0):(t-=1023,a=(1048576|e)*Math.pow(2,t-20),n*(a+=i*Math.pow(2,t-52)))):0},v.prototype.peekFloat64=function(t,e){return null==t&&(t=0),this.peek(8,t,e),n?n[0]:o()},v.prototype.readFloat80=function(t){return this.read(10,t),f()},f=function(){var t,e,r,i,a,n;return r=p[0],i=p[1],n=1-2*((t=m[9])>>>7),0==(e=(127&t)<<8|m[8])&&0===i&&0===r?0:32767===e?0===i&&0===r?n*(1/0):NaN:(e-=16383,a=i*Math.pow(2,e-31),n*(a+=r*Math.pow(2,e-63)))},v.prototype.peekFloat80=function(t,e){return null==t&&(t=0),this.peek(10,t,e),f()},v.prototype.readBuffer=function(t){var e,r,a,n;for(a=(r=i.allocate(t)).data,e=n=0;n<t;e=n+=1)a[e]=this.readUInt8();return r},v.prototype.peekBuffer=function(t,e){var r,a,n,s;for(null==t&&(t=0),n=(a=i.allocate(e)).data,r=s=0;s<e;r=s+=1)n[r]=this.peekUInt8(t+r);return a},v.prototype.readSingleBuffer=function(t){var e;return e=this.list.first.slice(this.localOffset,t),this.advance(e.length),e},v.prototype.peekSingleBuffer=function(t,e){return this.list.first.slice(this.localOffset+t,e)},v.prototype.readString=function(t,r){return null==r&&(r="ascii"),e.call(this,0,t,r,!0)},v.prototype.peekString=function(t,r,i){return null==t&&(t=0),null==i&&(i="ascii"),e.call(this,t,r,i,!1)},e=function(t,e,r,i){var a,n,s,o,f,h,l,u,c,d,p,m;switch(u=null===e?0:-1,null==e&&(e=1/0),h=t+e,d="",r=r.toLowerCase()){case"ascii":case"latin1":for(;t<h&&(f=this.peekUInt8(t++))!==u;)d+=String.fromCharCode(f);break;case"utf8":case"utf-8":for(;t<h&&(a=this.peekUInt8(t++))!==u;)0==(128&a)?d+=String.fromCharCode(a):192==(224&a)?(n=63&this.peekUInt8(t++),d+=String.fromCharCode((31&a)<<6|n)):224==(240&a)?(n=63&this.peekUInt8(t++),s=63&this.peekUInt8(t++),d+=String.fromCharCode((15&a)<<12|n<<6|s)):240==(248&a)&&(c=((15&a)<<18|(n=63&this.peekUInt8(t++))<<12|(s=63&this.peekUInt8(t++))<<6|63&this.peekUInt8(t++))-65536,d+=String.fromCharCode(55296+(c>>10),56320+(1023&c)));break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(r){case"utf16be":case"utf16-be":l=!1;break;case"utf16le":case"utf16-le":l=!0;break;case"utf16bom":case"utf16-bom":if(e<2||(o=this.peekUInt16(t))===u)return i&&this.advance(t+=2),d;l=65534===o,t+=2}for(;t<h&&(p=this.peekUInt16(t,l))!==u;)if(t+=2,p<55296||p>57343)d+=String.fromCharCode(p);else{if(p>56319)throw new Error("Invalid utf16 sequence.");if((m=this.peekUInt16(t,l))<56320||m>57343)throw new Error("Invalid utf16 sequence.");d+=String.fromCharCode(p,m),t+=2}p===u&&(t+=2);break;default:throw new Error("Unknown encoding: "+r)}return i&&this.advance(t),d},v}(),e.exports=n},{"./buffer":7,"./bufferlist":8,"./underflow":11}],11:[function(t,e,r){var i,a={}.hasOwnProperty;i=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.name="UnderflowError",this.stack=(new Error).stack}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,Error),e}(),e.exports=i},{}],12:[function(t,e,r){var i,a,n,s,o,f,h={}.hasOwnProperty;s=t("./core/events"),a=t("./core/bufferlist"),o=t("./core/stream"),i=t("./core/bitstream"),f=t("./core/underflow"),n=function(t){var e;function r(t,e){var r,n;this.demuxer=t,this.format=e,r=new a,this.stream=new o(r),this.bitstream=new i(this.stream),this.receivedFinalBuffer=!1,this.waiting=!1,this.demuxer.on("cookie",(n=this,function(t){var e;try{return n.setCookie(t)}catch(t){return e=t,n.emit("error",e)}})),this.demuxer.on("data",function(t){return function(e){if(r.append(e),t.waiting)return t.decode()}}(this)),this.demuxer.on("end",function(t){return function(){if(t.receivedFinalBuffer=!0,t.waiting)return t.decode()}}(this)),this.init()}return function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t),r.prototype.init=function(){},r.prototype.setCookie=function(t){},r.prototype.readChunk=function(){},r.prototype.decode=function(){var t,e,r;this.waiting=!1,e=this.bitstream.offset();try{r=this.readChunk()}catch(e){if(!((t=e)instanceof f))return this.emit("error",t),!1}return r?(this.emit("data",r),!0):(this.receivedFinalBuffer?this.emit("end"):(this.bitstream.seek(e),this.waiting=!0),!1)},r.prototype.seek=function(t){var e;return e=this.demuxer.seek(t),this.stream.seek(e.offset),e.timestamp},e={},r.register=function(t,r){return e[t]=r},r.find=function(t){return e[t]||null},r}(s),e.exports=n},{"./core/bitstream":6,"./core/bufferlist":8,"./core/events":9,"./core/stream":10,"./core/underflow":11}],13:[function(t,e,r){var i,a=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;!function(t){function e(){return this.readChunk=a(this.readChunk,this),e.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(e,t),i.register("lpcm",e),e.prototype.readChunk=function(){var t,e,r,i,a,n,s,o,f,h,l,u;if(n=this.stream,r=this.format.littleEndian,a=(t=Math.min(4096,n.remainingBytes()))/(this.format.bitsPerChannel/8)|0,t<this.format.bitsPerChannel/8)return null;if(this.format.floatingPoint)switch(this.format.bitsPerChannel){case 32:for(i=new Float32Array(a),e=s=0;s<a;e=s+=1)i[e]=n.readFloat32(r);break;case 64:for(i=new Float64Array(a),e=o=0;o<a;e=o+=1)i[e]=n.readFloat64(r);break;default:throw new Error("Unsupported bit depth.")}else switch(this.format.bitsPerChannel){case 8:for(i=new Int8Array(a),e=f=0;f<a;e=f+=1)i[e]=n.readInt8();break;case 16:for(i=new Int16Array(a),e=h=0;h<a;e=h+=1)i[e]=n.readInt16(r);break;case 24:for(i=new Int32Array(a),e=l=0;l<a;e=l+=1)i[e]=n.readInt24(r);break;case 32:for(i=new Int32Array(a),e=u=0;u<a;e=u+=1)i[e]=n.readInt32(r);break;default:throw new Error("Unsupported bit depth.")}return i}}(i=t("../decoder"))},{"../decoder":12}],14:[function(t,e,r){var i,a=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;!function(t){function e(){return this.readChunk=a(this.readChunk,this),e.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(e,t),i.register("ulaw",e),i.register("alaw",e),e.prototype.init=function(){var t,e,r,i,a,n,s;if(this.format.bitsPerChannel=16,this.table=i=new Int16Array(256),"ulaw"===this.format.formatID)for(t=n=0;n<256;t=++n)r=132+((15&(a=~t))<<3),r<<=(112&a)>>>4,i[t]=128&a?132-r:r-132;else for(t=s=0;s<256;t=++s)r=15&(a=85^t),r=(e=(112&a)>>>4)?r+r+1+32<<e+2:r+r+1<<3,i[t]=128&a?r:-r},e.prototype.readChunk=function(){var t,e,r,i,a,n;if(i=this.stream,a=this.table,0!==(r=Math.min(4096,this.stream.remainingBytes()))){for(e=new Int16Array(r),t=n=0;n<r;t=n+=1)e[t]=a[i.readUInt8()];return e}}}(i=t("../decoder"))},{"../decoder":12}],15:[function(t,e,r){var i,a,n,s,o={}.hasOwnProperty;n=t("./core/events"),i=t("./core/bufferlist"),s=t("./core/stream"),a=function(t){var e;function r(t,e){var r,a,n;(r=new i).append(e),this.stream=new s(r),a=!1,t.on("data",(n=this,function(t){return a=!0,r.append(t),n.readChunk(t)})),t.on("error",function(t){return function(e){return t.emit("error",e)}}(this)),t.on("end",function(t){return function(){return a||t.readChunk(e),t.emit("end")}}(this)),this.seekPoints=[],this.init()}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t),r.probe=function(t){return!1},r.prototype.init=function(){},r.prototype.readChunk=function(t){},r.prototype.addSeekPoint=function(t,e){var r;return r=this.searchTimestamp(e),this.seekPoints.splice(r,0,{offset:t,timestamp:e})},r.prototype.searchTimestamp=function(t,e){var r,i,a,n;if(i=0,(r=this.seekPoints.length)>0&&this.seekPoints[r-1].timestamp<t)return r;for(;i<r;)a=i+r>>1,(n=this.seekPoints[a].timestamp)<t?i=a+1:n>=t&&(r=a);return r>this.seekPoints.length&&(r=this.seekPoints.length),r},r.prototype.seek=function(t){var e;return this.format&&this.format.framesPerPacket>0&&this.format.bytesPerPacket>0?{timestamp:t,offset:this.format.bytesPerPacket*t/this.format.framesPerPacket}:(e=this.searchTimestamp(t),this.seekPoints[e])},e=[],r.register=function(t){return e.push(t)},r.find=function(t){var r,i,a,n,o;for(a=s.fromBuffer(t),n=0,o=e.length;n<o;n++){r=e[n],i=a.offset;try{if(r.probe(a))return r}catch(t){}a.seek(i)}return null},r}(n),e.exports=a},{"./core/bufferlist":8,"./core/events":9,"./core/stream":10}],16:[function(t,e,r){var i,a={}.hasOwnProperty;!function(t){function e(){return e.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(e,t),i.register(e),e.probe=function(t){var e;return"FORM"===t.peekString(0,4)&&("AIFF"===(e=t.peekString(8,4))||"AIFC"===e)},e.prototype.readChunk=function(){var t,e,r,i;if(!this.readStart&&this.stream.available(12)){if("FORM"!==this.stream.readString(4))return this.emit("error","Invalid AIFF.");if(this.fileSize=this.stream.readUInt32(),this.fileType=this.stream.readString(4),this.readStart=!0,"AIFF"!==(i=this.fileType)&&"AIFC"!==i)return this.emit("error","Invalid AIFF.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32()),this.type){case"COMM":if(!this.stream.available(this.len))return;this.format={formatID:"lpcm",channelsPerFrame:this.stream.readUInt16(),sampleCount:this.stream.readUInt32(),bitsPerChannel:this.stream.readUInt16(),sampleRate:this.stream.readFloat80(),framesPerPacket:1,littleEndian:!1,floatingPoint:!1},this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,"AIFC"===this.fileType&&(e=this.stream.readString(4),this.format.littleEndian="sowt"===e&&this.format.bitsPerChannel>8,this.format.floatingPoint="fl32"===e||"fl64"===e,"twos"!==e&&"sowt"!==e&&"fl32"!==e&&"fl64"!==e&&"NONE"!==e||(e="lpcm"),this.format.formatID=e,this.len-=4),this.stream.advance(this.len-18),this.emit("format",this.format),this.emit("duration",this.format.sampleCount/this.format.sampleRate*1e3|0);break;case"SSND":this.readSSNDHeader&&this.stream.available(4)||(r=this.stream.readUInt32(),this.stream.advance(4),this.stream.advance(r),this.readSSNDHeader=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=this.len>0,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"SSND"!==this.type&&(this.readHeaders=!1)}}}(i=t("../demuxer"))},{"../demuxer":15}],17:[function(t,e,r){var i,a={}.hasOwnProperty;!function(t){var e,r;function n(){return n.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(n,t),i.register(n),n.probe=function(t){return".snd"===t.peekString(0,4)},(e=[8,8,16,24,32,32,64])[26]=8,r={1:"ulaw",27:"alaw"},n.prototype.readChunk=function(){var t,i,a;if(!this.readHeader&&this.stream.available(24)){if(".snd"!==this.stream.readString(4))return this.emit("error","Invalid AU file.");if(this.stream.readUInt32(),i=this.stream.readUInt32(),a=this.stream.readUInt32(),this.format={formatID:r[a]||"lpcm",littleEndian:!1,floatingPoint:6===a||7===a,bitsPerChannel:e[a-1],sampleRate:this.stream.readUInt32(),channelsPerFrame:this.stream.readUInt32(),framesPerPacket:1},null==this.format.bitsPerChannel)return this.emit("error","Unsupported encoding in AU file.");this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,4294967295!==i&&(t=this.format.bitsPerChannel/8,this.emit("duration",i/t/this.format.channelsPerFrame/this.format.sampleRate*1e3|0)),this.emit("format",this.format),this.readHeader=!0}if(this.readHeader)for(;this.stream.available(1);)this.emit("data",this.stream.readSingleBuffer(this.stream.remainingBytes()))}}(i=t("../demuxer"))},{"../demuxer":15}],18:[function(t,e,r){var i,a,n={}.hasOwnProperty;i=t("../demuxer"),a=t("./m4a"),function(t){function e(){return e.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(e,t),i.register(e),e.probe=function(t){return"caff"===t.peekString(0,4)},e.prototype.readChunk=function(){var t,e,r,i,n,s,o,f,h,l,u,c,d;if(!this.format&&this.stream.available(64)){if("caff"!==this.stream.readString(4))return this.emit("error","Invalid CAF, does not begin with 'caff'");if(this.stream.advance(4),"desc"!==this.stream.readString(4))return this.emit("error","Invalid CAF, 'caff' is not followed by 'desc'");if(0!==this.stream.readUInt32()||32!==this.stream.readUInt32())return this.emit("error","Invalid 'desc' size, should be 32");this.format={},this.format.sampleRate=this.stream.readFloat64(),this.format.formatID=this.stream.readString(4),n=this.stream.readUInt32(),"lpcm"===this.format.formatID&&(this.format.floatingPoint=Boolean(1&n),this.format.littleEndian=Boolean(2&n)),this.format.bytesPerPacket=this.stream.readUInt32(),this.format.framesPerPacket=this.stream.readUInt32(),this.format.channelsPerFrame=this.stream.readUInt32(),this.format.bitsPerChannel=this.stream.readUInt32(),this.emit("format",this.format)}for(;this.stream.available(1);){if(!this.headerCache&&(this.headerCache={type:this.stream.readString(4),oversize:0!==this.stream.readUInt32(),size:this.stream.readUInt32()},this.headerCache.oversize))return this.emit("error","Holy Shit, an oversized file, not supported in JS");switch(this.headerCache.type){case"kuki":this.stream.available(this.headerCache.size)&&("aac "===this.format.formatID?(f=this.stream.offset+this.headerCache.size,(r=a.readEsds(this.stream))&&this.emit("cookie",r),this.stream.seek(f)):(t=this.stream.readBuffer(this.headerCache.size),this.emit("cookie",t)),this.headerCache=null);break;case"pakt":if(this.stream.available(this.headerCache.size)){if(0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");if(this.numPackets=this.stream.readUInt32(),0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");for(this.numFrames=this.stream.readUInt32(),this.primingFrames=this.stream.readUInt32(),this.remainderFrames=this.stream.readUInt32(),this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0),this.sentDuration=!0,e=0,h=0,u=0,d=this.numPackets;u<d;u+=1)this.addSeekPoint(e,h),e+=this.format.bytesPerPacket||a.readDescrLen(this.stream),h+=this.format.framesPerPacket||a.readDescrLen(this.stream);this.headerCache=null}break;case"info":for(i=this.stream.readUInt32(),o={},c=0;0<=i?c<i:c>i;0<=i?++c:--c)s=this.stream.readString(null),l=this.stream.readString(null),o[s]=l;this.emit("metadata",o),this.headerCache=null;break;case"data":this.sentFirstDataChunk||(this.stream.advance(4),this.headerCache.size-=4,0===this.format.bytesPerPacket||this.sentDuration||(this.numFrames=this.headerCache.size/this.format.bytesPerPacket,this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0)),this.sentFirstDataChunk=!0),t=this.stream.readSingleBuffer(this.headerCache.size),this.headerCache.size-=t.length,this.emit("data",t),this.headerCache.size<=0&&(this.headerCache=null);break;default:this.stream.available(this.headerCache.size)&&(this.stream.advance(this.headerCache.size),this.headerCache=null)}}}}(i)},{"../demuxer":15,"./m4a":19}],19:[function(t,e,r){var i,a,n={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};a=function(t){var e,r,a,o,f,h,l,u,c,d,p;function m(){return m.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(m,t),i.register(m),r=["M4A ","M4P ","M4B ","M4V ","isom","mp42","qt  "],m.probe=function(t){var e;return"ftyp"===t.peekString(4,4)&&(e=t.peekString(8,4),s.call(r,e)>=0)},m.prototype.init=function(){return this.atoms=[],this.offsets=[],this.track=null,this.tracks=[]},f={},l={},o=function(t,e){var r,i,a,n,s;for(r=[],a=0,n=(s=t.split(".").slice(0,-1)).length;a<n;a++)i=s[a],r.push(i),l[r.join(".")]=!0;return null==f[t]&&(f[t]={}),f[t].fn=e},a=function(t,e){return null==f[t]&&(f[t]={}),f[t].after=e},m.prototype.readChunk=function(){var t,e;for(this.break=!1;this.stream.available(1)&&!this.break;){if(!this.readHeaders){if(!this.stream.available(8))return;if(this.len=this.stream.readUInt32()-8,this.type=this.stream.readString(4),0===this.len)continue;this.atoms.push(this.type),this.offsets.push(this.stream.offset+this.len),this.readHeaders=!0}if(e=this.atoms.join("."),null!=(t=f[e])?t.fn:void 0){if(!this.stream.available(this.len)&&"mdat"!==e)return;t.fn.call(this),e in l&&(this.readHeaders=!1)}else if(e in l)this.readHeaders=!1;else{if(!this.stream.available(this.len))return;this.stream.advance(this.len)}for(;this.stream.offset>=this.offsets[this.offsets.length-1];)(null!=(t=f[this.atoms.join(".")])?t.after:void 0)&&t.after.call(this),this.atoms.pop(),this.offsets.pop(),this.readHeaders=!1}},o("ftyp",(function(){var t;return t=this.stream.readString(4),s.call(r,t)<0?this.emit("error","Not a valid M4A file."):this.stream.advance(this.len-4)})),o("moov.trak",(function(){return this.track={},this.tracks.push(this.track)})),o("moov.trak.tkhd",(function(){return this.stream.advance(4),this.stream.advance(8),this.track.id=this.stream.readUInt32(),this.stream.advance(this.len-16)})),o("moov.trak.mdia.hdlr",(function(){return this.stream.advance(4),this.stream.advance(4),this.track.type=this.stream.readString(4),this.stream.advance(12),this.stream.advance(this.len-24)})),o("moov.trak.mdia.mdhd",(function(){return this.stream.advance(4),this.stream.advance(8),this.track.timeScale=this.stream.readUInt32(),this.track.duration=this.stream.readUInt32(),this.stream.advance(4)})),e={ulaw:8,alaw:8,in24:24,in32:32,fl32:32,fl64:64},o("moov.trak.mdia.minf.stbl.stsd",(function(){var t,r,i,a,n;return this.stream.advance(4),r=this.stream.readUInt32(),"soun"!==this.track.type?this.stream.advance(this.len-8):1!==r?this.emit("error","Only expecting one entry in sample description atom!"):(this.stream.advance(4),(t=this.track.format={}).formatID=this.stream.readString(4),this.stream.advance(6),this.stream.advance(2),i=this.stream.readUInt16(),this.stream.advance(6),t.channelsPerFrame=this.stream.readUInt16(),t.bitsPerChannel=this.stream.readUInt16(),this.stream.advance(4),t.sampleRate=this.stream.readUInt16(),this.stream.advance(2),1===i?(t.framesPerPacket=this.stream.readUInt32(),this.stream.advance(4),t.bytesPerFrame=this.stream.readUInt32(),this.stream.advance(4)):0!==i&&this.emit("error","Unknown version in stsd atom"),null!=e[t.formatID]&&(t.bitsPerChannel=e[t.formatID]),t.floatingPoint="fl32"===(a=t.formatID)||"fl64"===a,t.littleEndian="sowt"===t.formatID&&t.bitsPerChannel>8,"twos"===(n=t.formatID)||"sowt"===n||"in24"===n||"in32"===n||"fl32"===n||"fl64"===n||"raw "===n||"NONE"===n?t.formatID="lpcm":void 0)})),o("moov.trak.mdia.minf.stbl.stsd.alac",(function(){return this.stream.advance(4),this.track.cookie=this.stream.readBuffer(this.len-4)})),o("moov.trak.mdia.minf.stbl.stsd.esds",(function(){var t;return t=this.stream.offset+this.len,this.track.cookie=m.readEsds(this.stream),this.stream.seek(t)})),o("moov.trak.mdia.minf.stbl.stsd.wave.enda",(function(){return this.track.format.littleEndian=!!this.stream.readUInt16()})),m.readDescrLen=function(t){var e,r,i;for(i=0,r=4;r--&&(i=i<<7|127&(e=t.readUInt8()),128&e););return i},m.readEsds=function(t){var e,r,i;return t.advance(4),i=t.readUInt8(),r=m.readDescrLen(t),3===i?(t.advance(2),128&(e=t.readUInt8())&&t.advance(2),64&e&&t.advance(t.readUInt8()),32&e&&t.advance(2)):t.advance(2),i=t.readUInt8(),r=m.readDescrLen(t),4===i&&(t.readUInt8(),t.advance(1),t.advance(3),t.advance(4),t.advance(4),i=t.readUInt8(),r=m.readDescrLen(t),5===i)?t.readBuffer(r):null},o("moov.trak.mdia.minf.stbl.stts",(function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stts=[],e=r=0;r<t;e=r+=1)this.track.stts[e]={count:this.stream.readUInt32(),duration:this.stream.readUInt32()};return this.setupSeekPoints()})),o("moov.trak.mdia.minf.stbl.stsc",(function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stsc=[],e=r=0;r<t;e=r+=1)this.track.stsc[e]={first:this.stream.readUInt32(),count:this.stream.readUInt32(),id:this.stream.readUInt32()};return this.setupSeekPoints()})),o("moov.trak.mdia.minf.stbl.stsz",(function(){var t,e,r;if(this.stream.advance(4),this.track.sampleSize=this.stream.readUInt32(),t=this.stream.readUInt32(),0===this.track.sampleSize&&t>0)for(this.track.sampleSizes=[],e=r=0;r<t;e=r+=1)this.track.sampleSizes[e]=this.stream.readUInt32();return this.setupSeekPoints()})),o("moov.trak.mdia.minf.stbl.stco",(function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.chunkOffsets=[],e=r=0;r<t;e=r+=1)this.track.chunkOffsets[e]=this.stream.readUInt32();return this.setupSeekPoints()})),o("moov.trak.tref.chap",(function(){var t,e,r;for(t=this.len>>2,this.track.chapterTracks=[],e=r=0;r<t;e=r+=1)this.track.chapterTracks[e]=this.stream.readUInt32()})),m.prototype.setupSeekPoints=function(){var t,e,r,i,a,n,s,o,f,h,l,u,c,d,p;if(null!=this.track.chunkOffsets&&null!=this.track.stsc&&null!=this.track.sampleSize&&null!=this.track.stts){for(n=0,s=0,s=0,o=0,i=0,e=0,f=0,this.track.seekPoints=[],p=[],t=h=0,u=(c=this.track.chunkOffsets).length;h<u;t=++h){for(r=c[t],l=0,d=this.track.stsc[n].count;l<d;l+=1)this.track.seekPoints.push({offset:e,position:r,timestamp:f}),e+=a=this.track.sampleSize||this.track.sampleSizes[i++],r+=a,f+=this.track.stts[s].duration,s+1<this.track.stts.length&&++o===this.track.stts[s].count&&(o=0,s++);n+1<this.track.stsc.length&&t+1===this.track.stsc[n+1].first?p.push(n++):p.push(void 0)}return p}},a("moov",(function(){var t,e,r,i;for(null!=this.mdatOffset&&this.stream.seek(this.mdatOffset-8),e=0,r=(i=this.tracks).length;e<r;e++)if("soun"===(t=i[e]).type){this.track=t;break}return"soun"!==this.track.type?(this.track=null,this.emit("error","No audio tracks in m4a file.")):(this.emit("format",this.track.format),this.emit("duration",this.track.duration/this.track.timeScale*1e3|0),this.track.cookie&&this.emit("cookie",this.track.cookie),this.seekPoints=this.track.seekPoints)})),o("mdat",(function(){var t,e,r,i,a,n,s,o;if(!this.startedData){if(null==this.mdatOffset&&(this.mdatOffset=this.stream.offset),0===this.tracks.length)return t=Math.min(this.stream.remainingBytes(),this.len),this.stream.advance(t),void(this.len-=t);this.chunkIndex=0,this.stscIndex=0,this.sampleIndex=0,this.tailOffset=0,this.tailSamples=0,this.startedData=!0}if(!this.readChapters){if(this.readChapters=this.parseChapters(),this.break=!this.readChapters)return;this.stream.seek(this.mdatOffset)}if(a=this.track.chunkOffsets[this.chunkIndex]+this.tailOffset,r=0,this.stream.available(a-this.stream.offset)){for(this.stream.seek(a);this.chunkIndex<this.track.chunkOffsets.length;){for(i=this.track.stsc[this.stscIndex].count-this.tailSamples,e=0,n=o=0;o<i&&(s=this.track.sampleSize||this.track.sampleSizes[this.sampleIndex],this.stream.available(r+s));n=o+=1)r+=s,e+=s,this.sampleIndex++;if(n<i){this.tailOffset+=e,this.tailSamples+=n;break}if(this.chunkIndex++,this.tailOffset=0,this.tailSamples=0,this.stscIndex+1<this.track.stsc.length&&this.chunkIndex+1===this.track.stsc[this.stscIndex+1].first&&this.stscIndex++,a+r!==this.track.chunkOffsets[this.chunkIndex])break}return r>0?(this.emit("data",this.stream.readBuffer(r)),this.break=this.chunkIndex===this.track.chunkOffsets.length):this.break=!0}this.break=!0})),m.prototype.parseChapters=function(){var t,e,r,i,a,n,s,o,f,h,l,u,c;if(!((null!=(h=this.track.chapterTracks)?h.length:void 0)>0))return!0;for(e=this.track.chapterTracks[0],o=0,f=(l=this.tracks).length;o<f&&(s=l[o]).id!==e;o++);for(s.id!==e&&this.emit("error","Chapter track does not exist."),null==this.chapters&&(this.chapters=[]);this.chapters.length<s.seekPoints.length;){if(a=s.seekPoints[this.chapters.length],!this.stream.available(a.position-this.stream.offset+32))return!1;if(this.stream.seek(a.position),r=this.stream.readUInt16(),n=null,!this.stream.available(r))return!1;r>2&&(65279!==(t=this.stream.peekUInt16())&&65534!==t||(n=this.stream.readString(r,"utf16-bom"))),null==n&&(n=this.stream.readString(r,"utf8")),i=null!=(u=null!=(c=s.seekPoints[this.chapters.length+1])?c.timestamp:void 0)?u:s.duration,this.chapters.push({title:n,timestamp:a.timestamp/s.timeScale*1e3|0,duration:(i-a.timestamp)/s.timeScale*1e3|0})}return this.emit("chapters",this.chapters),!0},o("moov.udta.meta",(function(){return this.metadata={},this.stream.advance(4)})),a("moov.udta.meta",(function(){return this.emit("metadata",this.metadata)})),(d=function(t,e,r){return o("moov.udta.meta.ilst."+t+".data",(function(){return this.stream.advance(8),this.len-=8,r.call(this,e)}))})("©alb","album",p=function(t){return this.metadata[t]=this.stream.readString(this.len,"utf8")}),d("©arg","arranger",p),d("©art","artist",p),d("©ART","artist",p),d("aART","albumArtist",p),d("catg","category",p),d("©com","composer",p),d("©cpy","copyright",p),d("cprt","copyright",p),d("©cmt","comments",p),d("©day","releaseDate",p),d("desc","description",p),d("©gen","genre",p),d("©grp","grouping",p),d("©isr","ISRC",p),d("keyw","keywords",p),d("©lab","recordLabel",p),d("ldes","longDescription",p),d("©lyr","lyrics",p),d("©nam","title",p),d("©phg","recordingCopyright",p),d("©prd","producer",p),d("©prf","performers",p),d("purd","purchaseDate",p),d("purl","podcastURL",p),d("©swf","songwriter",p),d("©too","encoder",p),d("©wrt","composer",p),d("covr","coverArt",(function(t){return this.metadata[t]=this.stream.readBuffer(this.len)})),c=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Capella","Euro-House","Dance Hall"],d("gnre","genre",(function(t){return this.metadata[t]=c[this.stream.readUInt16()-1]})),d("tmpo","tempo",(function(t){return this.metadata[t]=this.stream.readUInt16()})),d("rtng","rating",(function(t){var e;return e=this.stream.readUInt8(),this.metadata[t]=2===e?"Clean":0!==e?"Explicit":"None"})),d("disk","diskNumber",u=function(t){return this.stream.advance(2),this.metadata[t]=this.stream.readUInt16()+" of "+this.stream.readUInt16(),this.stream.advance(this.len-6)}),d("trkn","trackNumber",u),d("cpil","compilation",h=function(t){return this.metadata[t]=1===this.stream.readUInt8()}),d("pcst","podcast",h),d("pgap","gapless",h),m}(i=t("../demuxer")),e.exports=a},{"../demuxer":15}],20:[function(t,e,r){var i,a={}.hasOwnProperty;!function(t){var e;function r(){return r.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(r,t),i.register(r),r.probe=function(t){return"RIFF"===t.peekString(0,4)&&"WAVE"===t.peekString(8,4)},e={1:"lpcm",3:"lpcm",6:"alaw",7:"ulaw"},r.prototype.readChunk=function(){var t,r,i;if(!this.readStart&&this.stream.available(12)){if("RIFF"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.");if(this.fileSize=this.stream.readUInt32(!0),this.readStart=!0,"WAVE"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32(!0)),this.type){case"fmt ":if(!((i=this.stream.readUInt16(!0))in e))return this.emit("error","Unsupported format in WAV file.");this.format={formatID:e[i],floatingPoint:3===i,littleEndian:"lpcm"===e[i],channelsPerFrame:this.stream.readUInt16(!0),sampleRate:this.stream.readUInt32(!0),framesPerPacket:1},this.stream.advance(4),this.stream.advance(2),this.format.bitsPerChannel=this.stream.readUInt16(!0),this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,this.emit("format",this.format),this.stream.advance(this.len-16);break;case"data":this.sentDuration||(r=this.format.bitsPerChannel/8,this.emit("duration",this.len/r/this.format.channelsPerFrame/this.format.sampleRate*1e3|0),this.sentDuration=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=this.len>0,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"data"!==this.type&&(this.readHeaders=!1)}}}(i=t("../demuxer"))},{"../demuxer":15}],21:[function(t,e,r){var i,a={}.hasOwnProperty;i=function(t){var e;function r(t,e){var r,i;this.sampleRate=t,this.channels=e,this.updateTime=(r=this.updateTime,i=this,function(){return r.apply(i,arguments)}),this.playing=!1,this.currentTime=0,this._lastTime=0}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t),r.prototype.start=function(){if(!this.playing){if(this.playing=!0,null==this.device&&(this.device=r.create(this.sampleRate,this.channels)),!this.device)throw new Error("No supported audio device found.");return this._lastTime=this.device.getDeviceTime(),this._timer=setInterval(this.updateTime,200),this.device.on("refill",this.refill=(t=this,function(e){return t.emit("refill",e)}));var t}},r.prototype.stop=function(){if(this.playing)return this.playing=!1,this.device.off("refill",this.refill),clearInterval(this._timer)},r.prototype.destroy=function(){return this.stop(),this.device.destroy()},r.prototype.seek=function(t){return this.currentTime=t,this.playing&&(this._lastTime=this.device.getDeviceTime()),this.emit("timeUpdate",this.currentTime)},r.prototype.updateTime=function(){var t;return t=this.device.getDeviceTime(),this.currentTime+=(t-this._lastTime)/this.device.sampleRate*1e3|0,this._lastTime=t,this.emit("timeUpdate",this.currentTime)},e=[],r.register=function(t){return e.push(t)},r.create=function(t,r){var i,a,n;for(a=0,n=e.length;a<n;a++)if((i=e[a]).supported)return new i(t,r);return null},r}(t("./core/events")),e.exports=i},{"./core/events":9}],22:[function(t,e,r){var i,a,n,s={}.hasOwnProperty;n=t("../core/events"),a=t("../device"),i=t("../core/buffer"),function(t){var e,r;function n(t,r){var i,a;this.sampleRate=t,this.channels=r,this.refill=(i=this.refill,a=this,function(){return i.apply(a,arguments)}),this.audio=new Audio,this.audio.mozSetup(this.channels,this.sampleRate),this.writePosition=0,this.prebufferSize=this.sampleRate/2,this.tail=null,this.timer=e(this.refill,100)}(function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(n,t),a.register(n),n.supported="undefined"!=typeof Audio&&null!==Audio&&"mozWriteAudio"in new Audio,n.prototype.refill=function(){var t,e,r;this.tail&&(r=this.audio.mozWriteAudio(this.tail),this.writePosition+=r,this.writePosition<this.tail.length?this.tail=this.tail.subarray(r):this.tail=null),(t=this.audio.mozCurrentSampleOffset()+this.prebufferSize-this.writePosition)>0&&(e=new Float32Array(t),this.emit("refill",e),(r=this.audio.mozWriteAudio(e))<e.length&&(this.tail=e.subarray(r)),this.writePosition+=r)},n.prototype.destroy=function(){return r(this.timer)},n.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels},e=function(t,e){var r,a;return null==(r=i.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+e+");"))?setInterval(t,e):((a=new Worker(r)).onmessage=t,a.url=r,a)},r=function(t){return t.terminate?(t.terminate(),URL.revokeObjectURL(t.url)):clearInterval(t)}}(n)},{"../core/buffer":7,"../core/events":9,"../device":21}],23:[function(t,e,r){function i(t,e,r,i,a){this.fromSampleRate=t,this.toSampleRate=e,this.channels=0|r,this.outputBufferSize=i,this.noReturn=!!a,this.initialize()}i.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1):(this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0),this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.initializeBuffers())},i.prototype.compileLinearInterpolationFunction=function(){for(var t="var bufferLength = buffer.length;\tvar outLength = this.outputBufferSize;\tif ((bufferLength % "+this.channels+") == 0) {\t\tif (bufferLength > 0) {\t\t\tvar ratioWeight = this.ratioWeight;\t\t\tvar weight = this.lastWeight;\t\t\tvar firstWeight = 0;\t\t\tvar secondWeight = 0;\t\t\tvar sourceOffset = 0;\t\t\tvar outputOffset = 0;\t\t\tvar outputBuffer = this.outputBuffer;\t\t\tfor (; weight < 1; weight += ratioWeight) {\t\t\t\tsecondWeight = weight % 1;\t\t\t\tfirstWeight = 1 - secondWeight;",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (this.lastOutput["+e+"] * firstWeight) + (buffer["+e+"] * secondWeight);";for(t+="}\t\t\tweight -= 1;\t\t\tfor (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; outputOffset < outLength && sourceOffset < bufferLength;) {\t\t\t\tsecondWeight = weight % 1;\t\t\t\tfirstWeight = 1 - secondWeight;",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(e>0?" + "+e:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+e)+"] * secondWeight);";for(t+="weight += ratioWeight;\t\t\t\tsourceOffset = Math.floor(weight) * "+this.channels+";\t\t\t}",e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = buffer[sourceOffset++];";t+='this.lastWeight = weight % 1;\t\t\treturn this.bufferSlice(outputOffset);\t\t}\t\telse {\t\t\treturn (this.noReturn) ? 0 : [];\t\t}\t}\telse {\t\tthrow(new Error("Buffer was of incorrect sample length."));\t}',this.resampler=Function("buffer",t)},i.prototype.compileMultiTapFunction=function(){for(var t="var bufferLength = buffer.length;\tvar outLength = this.outputBufferSize;\tif ((bufferLength % "+this.channels+") == 0) {\t\tif (bufferLength > 0) {\t\t\tvar ratioWeight = this.ratioWeight;\t\t\tvar weight = 0;",e=0;e<this.channels;++e)t+="var output"+e+" = 0;";for(t+="var actualPosition = 0;\t\t\tvar amountToNext = 0;\t\t\tvar alreadyProcessedTail = !this.tailExists;\t\t\tthis.tailExists = false;\t\t\tvar outputBuffer = this.outputBuffer;\t\t\tvar outputOffset = 0;\t\t\tvar currentPosition = 0;\t\t\tdo {\t\t\t\tif (alreadyProcessedTail) {\t\t\t\t\tweight = ratioWeight;",e=0;e<this.channels;++e)t+="output"+e+" = 0;";for(t+="}\t\t\t\telse {\t\t\t\t\tweight = this.lastWeight;",e=0;e<this.channels;++e)t+="output"+e+" = this.lastOutput["+e+"];";for(t+="alreadyProcessedTail = true;\t\t\t\t}\t\t\t\twhile (weight > 0 && actualPosition < bufferLength) {\t\t\t\t\tamountToNext = 1 + actualPosition - currentPosition;\t\t\t\t\tif (weight >= amountToNext) {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition++] * amountToNext;";for(t+="currentPosition = actualPosition;\t\t\t\t\t\tweight -= amountToNext;\t\t\t\t\t}\t\t\t\t\telse {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition"+(e>0?" + "+e:"")+"] * weight;";for(t+="currentPosition += weight;\t\t\t\t\t\tweight = 0;\t\t\t\t\t\tbreak;\t\t\t\t\t}\t\t\t\t}\t\t\t\tif (weight == 0) {",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = output"+e+" / ratioWeight;";for(t+="}\t\t\t\telse {\t\t\t\t\tthis.lastWeight = weight;",e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = output"+e+";";t+='this.tailExists = true;\t\t\t\t\tbreak;\t\t\t\t}\t\t\t} while (actualPosition < bufferLength && outputOffset < outLength);\t\t\treturn this.bufferSlice(outputOffset);\t\t}\t\telse {\t\t\treturn (this.noReturn) ? 0 : [];\t\t}\t}\telse {\t\tthrow(new Error("Buffer was of incorrect sample length."));\t}',this.resampler=Function("buffer",t)},i.prototype.bypassResampler=function(t){return this.noReturn?(this.outputBuffer=t,t.length):t},i.prototype.bufferSlice=function(t){if(this.noReturn)return t;try{return this.outputBuffer.subarray(0,t)}catch(e){try{return this.outputBuffer.length=t,this.outputBuffer}catch(e){return this.outputBuffer.slice(0,t)}}},i.prototype.initializeBuffers=function(){try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch(t){this.outputBuffer=[],this.lastOutput=[]}},e.exports=i},{}],24:[function(t,e,r){(function(e){var r,i,a,n={}.hasOwnProperty;i=t("../core/events"),r=t("../device"),a=t("./resampler"),function(t){var i,s,o;function f(t,e){var r,n;this.sampleRate=t,this.channels=e,this.refill=(r=this.refill,n=this,function(){return r.apply(n,arguments)}),this.context=null!=o?o:o=new i,this.deviceSampleRate=this.context.sampleRate,this.bufferSize=Math.ceil(4096/(this.deviceSampleRate/this.sampleRate)*this.channels),this.bufferSize+=this.bufferSize%this.channels,this.deviceSampleRate!==this.sampleRate&&(this.resampler=new a(this.sampleRate,this.deviceSampleRate,this.channels,4096*this.channels)),this.node=this.context[s](4096,this.channels,this.channels),this.node.onaudioprocess=this.refill,this.node.connect(this.context.destination)}(function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(f,t),r.register(f),i=e.AudioContext||e.webkitAudioContext,f.supported=i&&("function"==typeof i.prototype[s="createScriptProcessor"]||"function"==typeof i.prototype[s="createJavaScriptNode"]),o=null,f.prototype.refill=function(t){var e,r,i,a,n,s,o,f,h,l;for(e=(s=t.outputBuffer).numberOfChannels,r=new Array(e),a=o=0;o<e;a=o+=1)r[a]=s.getChannelData(a);for(i=new Float32Array(this.bufferSize),this.emit("refill",i),this.resampler&&(i=this.resampler.resampler(i)),a=f=0,l=s.length;f<l;a=f+=1)for(n=h=0;h<e;n=h+=1)r[n][a]=i[a*e+n]},f.prototype.destroy=function(){return this.node.disconnect(0)},f.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate}}(i)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/events":9,"../device":21,"./resampler":23}],25:[function(t,e,r){var i;i=function(){function t(t,e){t&&e&&Object.defineProperty(this,"value",{get:function(){return t[e]}})}return t.prototype.process=function(t){},t}(),e.exports=i},{}],26:[function(t,e,r){var i,a={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.process=function(t){var e,r,i,a;if(0!==this.value)for(r=Math.max(-50,Math.min(50,this.value)),e=i=0,a=t.length;i<a;e=i+=2)t[e]*=Math.min(1,(50-r)/50),t[e+1]*=Math.min(1,(50+r)/50)},e}(t("../filter")),e.exports=i},{"../filter":25}],27:[function(t,e,r){var i,a={}.hasOwnProperty;i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.process=function(t){var e,r,i,a;if(!(this.value>=100))for(r=Math.max(0,Math.min(100,this.value))/100,e=i=0,a=t.length;i<a;e=i+=1)t[e]*=r},e}(t("../filter")),e.exports=i},{"../filter":25}],28:[function(t,e,r){var i,a,n,s,o,f,h,l={}.hasOwnProperty;s=t("./core/events"),i=t("./asset"),h=t("./filters/volume"),n=t("./filters/balance"),f=t("./queue"),a=t("./device"),o=function(t){function e(t){var e,r,i;this.asset=t,this.startPlaying=(e=this.startPlaying,r=this,function(){return e.apply(r,arguments)}),this.playing=!1,this.buffered=0,this.currentTime=0,this.duration=0,this.volume=100,this.pan=0,this.metadata={},this.filters=[new h(this,"volume"),new n(this,"pan")],this.asset.on("buffer",(i=this,function(t){return i.buffered=t,i.emit("buffer",i.buffered)})),this.asset.on("decodeStart",function(t){return function(){return t.queue=new f(t.asset),t.queue.once("ready",t.startPlaying)}}(this)),this.asset.on("format",function(t){return function(e){return t.format=e,t.emit("format",t.format)}}(this)),this.asset.on("metadata",function(t){return function(e){return t.metadata=e,t.emit("metadata",t.metadata)}}(this)),this.asset.on("duration",function(t){return function(e){return t.duration=e,t.emit("duration",t.duration)}}(this)),this.asset.on("error",function(t){return function(e){return t.emit("error",e)}}(this))}return function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.fromURL=function(t){return new e(i.fromURL(t))},e.fromFile=function(t){return new e(i.fromFile(t))},e.fromBuffer=function(t){return new e(i.fromBuffer(t))},e.prototype.preload=function(){if(this.asset)return this.startedPreloading=!0,this.asset.start(!1)},e.prototype.play=function(){var t;if(!this.playing)return this.startedPreloading||this.preload(),this.playing=!0,null!=(t=this.device)?t.start():void 0},e.prototype.pause=function(){var t;if(this.playing)return this.playing=!1,null!=(t=this.device)?t.stop():void 0},e.prototype.togglePlayback=function(){return this.playing?this.pause():this.play()},e.prototype.stop=function(){var t;return this.pause(),this.asset.stop(),null!=(t=this.device)?t.destroy():void 0},e.prototype.seek=function(t){var e,r;return null!=(e=this.device)&&e.stop(),this.queue.once("ready",(r=this,function(){var t,e;if(null!=(t=r.device)&&t.seek(r.currentTime),r.playing)return null!=(e=r.device)?e.start():void 0})),t=t/1e3*this.format.sampleRate,t=this.asset.decoder.seek(t),this.currentTime=t/this.format.sampleRate*1e3|0,this.queue.reset(),this.currentTime},e.prototype.startPlaying=function(){var t,e,r;return t=this.queue.read(),e=0,this.device=new a(this.format.sampleRate,this.format.channelsPerFrame),this.device.on("timeUpdate",(r=this,function(t){return r.currentTime=t,r.emit("progress",r.currentTime)})),this.refill=function(r){return function(i){var a,n,s,o,f,h;if(r.playing){for(t||(t=r.queue.read(),e=0),a=0;t&&a<i.length;){for(n=Math.min(t.length-e,i.length-a),s=0;s<n;s+=1)i[a++]=t[e++];e===t.length&&(t=r.queue.read(),e=0)}for(o=0,f=(h=r.filters).length;o<f;o++)h[o].process(i);t||(r.queue.ended?(r.currentTime=r.duration,r.emit("progress",r.currentTime),r.emit("end"),r.stop()):r.device.stop())}}}(this),this.device.on("refill",this.refill),this.playing&&this.device.start(),this.emit("ready")},e}(s),e.exports=o},{"./asset":2,"./core/events":9,"./device":21,"./filters/balance":26,"./filters/volume":27,"./queue":29}],29:[function(t,e,r){var i,a={}.hasOwnProperty;i=function(t){function e(t){var e,r,i;this.asset=t,this.write=(e=this.write,r=this,function(){return e.apply(r,arguments)}),this.readyMark=64,this.finished=!1,this.buffering=!0,this.ended=!1,this.buffers=[],this.asset.on("data",this.write),this.asset.on("end",(i=this,function(){return i.ended=!0})),this.asset.decodePacket()}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.write=function(t){if(t&&this.buffers.push(t),this.buffering)return this.buffers.length>=this.readyMark||this.ended?(this.buffering=!1,this.emit("ready")):this.asset.decodePacket()},e.prototype.read=function(){return 0===this.buffers.length?null:(this.asset.decodePacket(),this.buffers.shift())},e.prototype.reset=function(){return this.buffers.length=0,this.buffering=!0,this.asset.decodePacket()},e}(t("./core/events")),e.exports=i},{"./core/events":9}],30:[function(t,e,r){var i,a,n,s={}.hasOwnProperty;a=t("../../core/events"),i=t("../../core/buffer"),n=function(t){function e(t){if(this.file=t,"undefined"==typeof FileReader||null===FileReader)return this.emit("error","This browser does not have FileReader support.");this.offset=0,this.length=this.file.size,this.chunkSize=1<<20,this.file[this.slice="slice"]||this.file[this.slice="webkitSlice"]||this.file[this.slice="mozSlice"]}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.start=function(){return this.reader&&!this.active||(this.reader=new FileReader,this.active=!0,this.reader.onload=(t=this,function(e){var r;if(r=new i(new Uint8Array(e.target.result)),t.offset+=r.length,t.emit("data",r),t.active=!1,t.offset<t.length)return t.loop()}),this.reader.onloadend=function(t){return function(){if(t.offset===t.length)return t.emit("end"),t.reader=null}}(this),this.reader.onerror=function(t){return function(e){return t.emit("error",e)}}(this),this.reader.onprogress=function(t){return function(e){return t.emit("progress",(t.offset+e.loaded)/t.length*100)}}(this)),this.loop();var t},e.prototype.loop=function(){var t,e;return this.active=!0,e=Math.min(this.offset+this.chunkSize,this.length),t=this.file[this.slice](this.offset,e),this.reader.readAsArrayBuffer(t)},e.prototype.pause=function(){var t;this.active=!1;try{return null!=(t=this.reader)?t.abort():void 0}catch(t){}},e.prototype.reset=function(){return this.pause(),this.offset=0},e}(a),e.exports=n},{"../../core/buffer":7,"../../core/events":9}],31:[function(t,e,r){var i,a,n,s={}.hasOwnProperty;a=t("../../core/events"),i=t("../../core/buffer"),n=function(t){function e(t){this.url=t,this.chunkSize=1<<20,this.inflight=!1,this.reset()}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.start=function(){return this.length&&!this.inflight?this.loop():(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=(t=this,function(e){return t.length=parseInt(t.xhr.getResponseHeader("Content-Length")),t.inflight=!1,t.loop()}),this.xhr.onerror=function(t){return function(e){return t.pause(),t.emit("error",e)}}(this),this.xhr.onabort=function(t){return function(e){return t.inflight=!1}}(this),this.xhr.open("HEAD",this.url,!0),this.xhr.send(null));var t},e.prototype.loop=function(){var t,e;return this.inflight||!this.length?this.emit("error","Something is wrong in HTTPSource.loop"):(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=(e=this,function(t){var r,a,n,s,o,f;if(e.xhr.response)r=new Uint8Array(e.xhr.response);else for(s=e.xhr.responseText,r=new Uint8Array(s.length),n=o=0,f=s.length;0<=f?o<f:o>f;n=0<=f?++o:--o)r[n]=255&s.charCodeAt(n);if(a=new i(r),e.offset+=a.length,e.emit("data",a),e.offset>=e.length&&e.emit("end"),e.inflight=!1,!(e.offset>=e.length))return e.loop()}),this.xhr.onprogress=function(t){return function(e){return t.emit("progress",(t.offset+e.loaded)/t.length*100)}}(this),this.xhr.onerror=function(t){return function(e){return t.emit("error",e),t.pause()}}(this),this.xhr.onabort=function(t){return function(e){return t.inflight=!1}}(this),this.xhr.open("GET",this.url,!0),this.xhr.responseType="arraybuffer",t=Math.min(this.offset+this.chunkSize,this.length),this.xhr.setRequestHeader("Range","bytes="+this.offset+"-"+t),this.xhr.overrideMimeType("text/plain; charset=x-user-defined"),this.xhr.send(null))},e.prototype.pause=function(){var t;return this.inflight=!1,null!=(t=this.xhr)?t.abort():void 0},e.prototype.reset=function(){return this.pause(),this.offset=0},e}(a),e.exports=n},{"../../core/buffer":7,"../../core/events":9}],32:[function(t,e,r){(function(r){var i,a,n,s,o={}.hasOwnProperty;s=t("../core/events"),a=t("../core/bufferlist"),i=t("../core/buffer"),n=function(t){var e,n;function s(t){var e,r;this.loop=(e=this.loop,r=this,function(){return e.apply(r,arguments)}),t instanceof a?this.list=t:(this.list=new a,this.list.append(new i(t))),this.paused=!0}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(s,t),n=r.setImmediate||function(t){return r.setTimeout(t,0)},e=r.clearImmediate||function(t){return r.clearTimeout(t)},s.prototype.start=function(){return this.paused=!1,this._timer=n(this.loop)},s.prototype.loop=function(){return this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0),this.emit("data",this.list.first),this.list.advance()?n(this.loop):this.emit("end")},s.prototype.pause=function(){return e(this._timer),this.paused=!0},s.prototype.reset=function(){return this.pause(),this.list.rewind()},s}(s),e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/buffer":7,"../core/bufferlist":8,"../core/events":9}]},{},[1])(1)},"object"==o(e)&&void 0!==t?t.exports=s():(a=[],void 0===(n="function"==typeof(i=s)?i.apply(e,a):i)||(t.exports=n))},function(t,e,r){var i=r(0);!function t(e,r,i){function a(s,o){if(!r[s]){if(!e[s]){if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};e[s][0].call(f.exports,(function(t){var r=e[s][1][t];return a(r||t)}),f,f.exports,t,e,r,i)}return r[s].exports}for(var n=!1,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){(function(){var t;t=function(){var t,e,r,i,a,n;function s(){}return 40,10,14,255,9,9,9,512,r=1<<(t=9-(e=2)-1)-2,65535,65535,e=2,24,16,n=function(t){var e,r;for(r=0,e=0;!((e=t>>>24)||(r+=8,255&(e=t>>>16))||(r+=8,255&(e=t>>>8))||(r+=8,255&(e=t)));)return r+=8;return 240&e?e>>>=4:r+=4,8&e?r:4&e?r+1:2&e?r+2:1&e?r+3:r+4},i=function(t,e,r){var i,a,s,o,f;return a=t.bitPosition,o=t.peek(32-a)<<a,(i=n(~o))>=9?(t.advance(25),s=(o<<=9)>>>16):(t.advance(i+r),s=i*e+(f=(o<<=i+1)>>>32-r)-1,f<2?s-=f-1:t.advance(1)),s},a=function(t,e,r,i){var a,s,o,f;return a=t.bitPosition,o=t.peek(32-a)<<a,(s=n(~o))>=9?(t.advance(9),t.read(i)):(t.advance(s+1),1!==r&&(o<<=s+1,s*=e,f=o>>>32-r,t.advance(r-1),f>1&&(s+=f-1,t.advance(1))),s)},s.ag_params=function(t,e,r,i,a,n){return{mb:t,mb0:t,pb:e,kb:r,wb:(1<<r)-1,qb:512-e,fw:i,sw:a,maxrun:n}},s.dyn_decomp=function(s,o,f,h,l){var u,c,d,p,m,v,y,b,g,_,w,k;for(g=s.pb,d=s.kb,_=s.wb,m=s.mb0,w=0,u=0;u<h;)if(p=m>>>9,c=Math.min(31-n(p+3),d),v=1|-(1&(b=(y=a(o,p=(1<<c)-1,c,l))+w)),f[u++]=(b+1>>>1)*v,m=g*(y+w)+m-(g*m>>9),y>65535&&(m=65535),w=0,m<<e<512&&u<h){if(w=1,c=n(m)-24+(m+r>>t),!(u+(y=i(o,(1<<c)-1&_,c))<=h))return!1;for(k=0;k<y;k+=1)f[u++]=0;y>=65535&&(w=0),m=0}return!0},s}(),e.exports=t}).call(this)},{}],2:[function(t,e,r){(function(){var r,a,n,s,o={}.hasOwnProperty;a=t("./ag_dec"),n=t("./dp_dec"),s=t("./matrix_dec"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),i.Decoder.register("alac",e),0,1,2,3,4,5,6,7,e.prototype.setCookie=function(t){var e,r,a;return"frma"===(e=i.Stream.fromBuffer(t)).peekString(4,4)&&e.advance(12),"alac"===e.peekString(4,4)&&e.advance(12),this.config={frameLength:e.readUInt32(),compatibleVersion:e.readUInt8(),bitDepth:e.readUInt8(),pb:e.readUInt8(),mb:e.readUInt8(),kb:e.readUInt8(),numChannels:e.readUInt8(),maxRun:e.readUInt16(),maxFrameBytes:e.readUInt32(),avgBitRate:e.readUInt32(),sampleRate:e.readUInt32()},(a=this.format).bitsPerChannel||(a.bitsPerChannel=this.config.bitDepth),this.mixBuffers=[new Int32Array(this.config.frameLength),new Int32Array(this.config.frameLength)],r=new ArrayBuffer(4*this.config.frameLength),this.predictor=new Int32Array(r),this.shiftBuffer=new Int16Array(r)},e.prototype.readChunk=function(t){var e,r,i,o,f,h,l,u,c,d,p,m,v,y,b,g,_,w,k,I,S,T,A,P,E,U,O,C,F,L,x,R,B,D,M,N,W,z,G,X,H,q,K,Y;if(this.stream.available(4)){for(t=this.bitstream,F=this.config.frameLength,T=this.config.numChannels,f=0,P=new ArrayBuffer(F*T*this.config.bitDepth/8),p=!1;!p;){switch(B=t.read(3)){case 0:case 3:case 1:if(f+(h=1===B?2:1)>T)throw new Error("Too many channels!");if(t.read(4),0!==t.read(12))throw new Error("Unused part of header does not contain 0, it should");if(U=t.read(1),r=t.read(2),m=t.read(1),3===r)throw new Error("Bytes are shifted by 3, they shouldn't be");if(U&&(F=t.read(32)),0===m){for(L=8*r,o=this.config.bitDepth-L+h-1,w=t.read(8),k=t.read(8),I=[],d=[],C=[],S=[],l=[],i=M=0;M<h;i=M+=1)for(I[i]=t.read(4),d[i]=t.read(4),C[i]=t.read(3),S[i]=t.read(5),R=l[i]=new Int16Array(32),v=N=0,q=S[i];N<q;v=N+=1)R[v]=t.read(16);for(r&&(x=t.copy(),t.advance(L*h*F)),_=(K=this.config).mb,O=K.pb,b=K.kb,g=K.maxRun,i=W=0;W<h;i=W+=1){if(E=a.ag_params(_,O*C[i]/4,b,F,F,g),!a.dyn_decomp(E,t,this.predictor,F,o))throw new Error("Error in Aglib.dyn_decomp");0===I[i]||n.unpc_block(this.predictor,this.predictor,F,null,31,o,0),n.unpc_block(this.predictor,this.mixBuffers[i],F,l[i],S[i],o,d[i])}}else{for(L=32-(o=this.config.bitDepth),v=z=0;z<F;v=z+=1)for(i=G=0;G<h;i=G+=1)D=t.read(o)<<L>>L,this.mixBuffers[i][v]=D;w=k=0,r=0}if(r)for(L=8*r,v=X=0,Y=F*h;X<Y;v=X+=1)this.shiftBuffer[v]=x.read(L);switch(this.config.bitDepth){case 16:if(A=new Int16Array(P,f),2===h)s.unmix16(this.mixBuffers[0],this.mixBuffers[1],A,T,F,w,k);else for(y=0,e=this.mixBuffers[0],v=H=0;H<F;v=H+=1)A[y]=e[v],y+=T;break;default:throw new Error("Only supports 16-bit samples right now")}f+=h;break;case 2:case 5:throw new Error("Unsupported element: "+B);case 4:if(t.read(4),c=t.read(1),255===(u=t.read(8))&&(u+=t.read(8)),c&&t.align(),t.advance(8*u),!(t.pos<t.length))throw new Error("buffer overrun");break;case 6:if(15===(u=t.read(4))&&(u+=t.read(8)-1),t.advance(8*u),!(t.pos<t.length))throw new Error("buffer overrun");break;case 7:t.align(),p=!0;break;default:throw new Error("Unknown element: "+B)}if(f>T)throw new Error("Channel index too large.")}return new Int16Array(P)}},e}(i.Decoder),e.exports=r}).call(this)},{"./ag_dec":1,"./dp_dec":3,"./matrix_dec":4}],3:[function(t,e,r){(function(){var t;t=function(){var t;function e(){}return t=function(t,e,r,i,a){var n,s;return n=new Uint8Array(t,e,a),s=new Uint8Array(r,i,a),n.set(s),t},e.unpc_block=function(e,r,i,a,n,s,o){var f,h,l,u,c,d,p,m,v,y,b,g,_,w,k,I,S,T,A,P,E,U,O,C,F,L,x,R,B,D,M,N,W,z,G,X,H,q;if(S=32-s,E=1<<o-1,r[0]=e[0],0===n)return t(r,0,e,0,4*i);if(31!==n){for(U=N=1;N<=n;U=N+=1)A=e[U]+r[U-1],r[U]=A<<S>>S;if(C=n+1,4===n){for(f=a[0],h=a[1],l=a[2],u=a[3],O=W=C;W<i;O=W+=1)if(B=E-f*(v=(D=r[O-C])-r[F=O-1])-h*(y=D-r[F-1])-l*(b=D-r[F-2])-u*(g=D-r[F-3])>>o,x=-(A=P=e[O])>>>31|A>>31,A+=D+B,r[O]=A<<S>>S,x>0){if(u-=R=-g>>>31|g>>31,(P-=1*(R*g>>o))<=0)continue;if(l-=R=-b>>>31|b>>31,(P-=2*(R*b>>o))<=0)continue;if(h-=R=-y>>>31|y>>31,(P-=3*(R*y>>o))<=0)continue;f-=-v>>>31|v>>31}else if(x<0){if(u-=R=-(-g>>>31|g>>31),(P-=1*(R*g>>o))>=0)continue;if(l-=R=-(-b>>>31|b>>31),(P-=2*(R*b>>o))>=0)continue;if(h-=R=-(-y>>>31|y>>31),(P-=3*(R*y>>o))>=0)continue;f+=-v>>>31|v>>31}a[0]=f,a[1]=h,a[2]=l,a[3]=u}else if(8===n){for(f=a[0],h=a[1],l=a[2],u=a[3],c=a[4],d=a[5],p=a[6],m=a[7],O=z=C;z<i;O=z+=1)if(B=E-f*(v=(D=r[O-C])-r[F=O-1])-h*(y=D-r[F-1])-l*(b=D-r[F-2])-u*(g=D-r[F-3])-c*(_=D-r[F-4])-d*(w=D-r[F-5])-p*(k=D-r[F-6])-m*(I=D-r[F-7])>>o,x=-(A=P=e[O])>>>31|A>>31,A+=D+B,r[O]=A<<S>>S,x>0){if(m-=R=-I>>>31|I>>31,(P-=1*(R*I>>o))<=0)continue;if(p-=R=-k>>>31|k>>31,(P-=2*(R*k>>o))<=0)continue;if(d-=R=-w>>>31|w>>31,(P-=3*(R*w>>o))<=0)continue;if(c-=R=-_>>>31|_>>31,(P-=4*(R*_>>o))<=0)continue;if(u-=R=-g>>>31|g>>31,(P-=5*(R*g>>o))<=0)continue;if(l-=R=-b>>>31|b>>31,(P-=6*(R*b>>o))<=0)continue;if(h-=R=-y>>>31|y>>31,(P-=7*(R*y>>o))<=0)continue;f-=-v>>>31|v>>31}else if(x<0){if(m-=R=-(-I>>>31|I>>31),(P-=1*(R*I>>o))>=0)continue;if(p-=R=-(-k>>>31|k>>31),(P-=2*(R*k>>o))>=0)continue;if(d-=R=-(-w>>>31|w>>31),(P-=3*(R*w>>o))>=0)continue;if(c-=R=-(-_>>>31|_>>31),(P-=4*(R*_>>o))>=0)continue;if(u-=R=-(-g>>>31|g>>31),(P-=5*(R*g>>o))>=0)continue;if(l-=R=-(-b>>>31|b>>31),(P-=6*(R*b>>o))>=0)continue;if(h-=R=-(-y>>>31|y>>31),(P-=7*(R*y>>o))>=0)continue;f+=-v>>>31|v>>31}a[0]=f,a[1]=h,a[2]=l,a[3]=u,a[4]=c,a[5]=d,a[6]=p,a[7]=m}else for(U=G=C;G<i;U=G+=1){for(B=0,D=r[U-C],F=U-1,O=X=0;X<n;O=X+=1)B+=a[O]*(r[F-O]-D);if(x=-(A=P=e[U])>>>31|A>>31,A+=D+(B+E>>o),r[U]=A<<S>>S,x>0)for(O=H=n-1;H>=0&&(R=-(T=D-r[F-O])>>>31|T>>31,a[O]-=R,!((P-=(n-O)*(R*T>>o))<=0));O=H+=-1);else if(x<0)for(O=q=n-1;q>=0&&(R=-(T=D-r[F-O])>>>31|T>>31,a[O]+=R,!((P-=(n-O)*(-R*T>>o))>=0));O=q+=-1);}}else for(L=r[0],U=M=1;M<i;U=M+=1)L=(A=e[U]+L)<<S>>S,r[U]=L},e}(),e.exports=t}).call(this)},{}],4:[function(t,e,r){(function(){var t;t=function(){function t(){}return t.unmix16=function(t,e,r,i,a,n,s){var o,f,h,l;if(0===s)for(o=h=0;h<a;o=h+=1)r[o*i+0]=t[o],r[o*i+1]=e[o];else for(o=l=0;l<a;o=l+=1)f=t[o]+e[o]-(s*e[o]>>n),r[o*i+0]=f,r[o*i+1]=f-e[o]},t}(),e.exports=t}).call(this)},{}]},{},[2])},function(t,e,r){var i=r(0);!function t(e,r,i){function a(s,o){if(!r[s]){if(!e[s]){if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};e[s][0].call(f.exports,(function(t){var r=e[s][1][t];return a(r||t)}),f,f.exports,t,e,r,i)}return r[s].exports}for(var n=!1,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){r.FLACDemuxer=t("./src/demuxer"),r.FLACDecoder=t("./src/decoder"),t("./src/ogg")},{"./src/decoder":2,"./src/demuxer":3,"./src/ogg":4}],2:[function(t,e,r){var a=i.Decoder.extend((function(){i.Decoder.register("flac",this),this.prototype.setCookie=function(t){this.cookie=t,this.decoded=[];for(var e=0;e<this.format.channelsPerFrame;e++)this.decoded[e]=new Int32Array(t.maxBlockSize);this.lpc_total=new Int32Array(2)};var t=new Int16Array([0,192,576,1152,2304,4608,0,0,256,512,1024,2048,4096,8192,16384,32768]),e=new Int32Array([0,88200,176400,192e3,8e3,16e3,22050,24e3,32e3,44100,48e3,96e3,0,0,0,0]),r=new Int8Array([0,8,12,0,16,20,24,0]);this.prototype.readChunk=function(){var i=this.bitstream;if(i.available(32)){if(32764!=(32767&i.read(15)))throw new Error("Invalid sync code");i.read(1);var a,n=i.read(4),s=i.read(4),o=i.read(4),f=i.read(3);if(i.advance(1),this.chMode=o,o<8)a=o+1,this.chMode=0;else{if(!(o<=10))throw new Error("Invalid channel mode");a=2}if(a!==this.format.channelsPerFrame)throw new Error("Switching channel layout mid-stream not supported.");if(3===f||7===f)throw new Error("Invalid sample size code");if(this.bps=r[f],this.bps!==this.format.bitsPerChannel)throw new Error("Switching bits per sample mid-stream not supported.");for(var h=0;1===i.read(1);)h++;for(var l=i.read(7-h);h>1;h--)i.advance(2),l=l<<6|i.read(6);if(0===n)throw new Error("Reserved blocksize code");if(this.blockSize=6===n?i.read(8)+1:7===n?i.read(16)+1:t[n],s<12)e[s];else if(12===s)1e3*i.read(8);else if(13===s)i.read(16);else{if(14!==s)throw new Error("Invalid sample rate code");10*i.read(16)}i.advance(8);for(var u=0;u<a;u++)this.decodeSubframe(u);i.align(),i.advance(16);var c=this.bps>16,d=new ArrayBuffer(this.blockSize*a*(c?4:2)),p=c?new Int32Array(d):new Int16Array(d),m=this.blockSize,v=this.decoded,y=0;switch(this.chMode){case 0:for(var b=0;b<m;b++)for(u=0;u<a;u++)p[y++]=v[u][b];break;case 8:for(u=0;u<m;u++){var g=v[0][u],_=v[1][u];p[y++]=g,p[y++]=g-_}break;case 9:for(u=0;u<m;u++){g=v[0][u],_=v[1][u];p[y++]=g+_,p[y++]=_}break;case 10:for(u=0;u<m;u++){g=v[0][u];g-=(_=v[1][u])>>1,p[y++]=g+_,p[y++]=g}}return p}},this.prototype.decodeSubframe=function(t){var e=0,r=this.bitstream,i=this.blockSize,a=this.decoded;if(this.curr_bps=this.bps,0===t?9===this.chMode&&this.curr_bps++:8!==this.chMode&&10!==this.chMode||this.curr_bps++,r.read(1))throw new Error("Invalid subframe padding");var n=r.read(6);if(r.read(1)){for(e=1;!r.read(1);)e++;this.curr_bps-=e}if(this.curr_bps>32)throw new Error("decorrelated bit depth > 32 ("+this.curr_bps+")");if(0===n)for(var s=r.read(this.curr_bps,!0),o=0;o<i;o++)a[t][o]=s;else if(1===n){var f=this.curr_bps;for(o=0;o<i;o++)a[t][o]=r.read(f,!0)}else if(n>=8&&n<=12)this.decode_subframe_fixed(t,-9&n);else{if(!(n>=32))throw new Error("Invalid coding type");this.decode_subframe_lpc(t,1+(-33&n))}if(e)for(o=0;o<i;o++)a[t][o]<<=e},this.prototype.decode_subframe_fixed=function(t,e){for(var r=this.decoded[t],i=this.bitstream,a=this.curr_bps,n=0;n<e;n++)r[n]=i.read(a,!0);this.decode_residuals(t,e);var s=0,o=0,f=0,h=0;switch(e>0&&(s=r[e-1]),e>1&&(o=s-r[e-2]),e>2&&(f=o-r[e-2]+r[e-3]),e>3&&(h=f-r[e-2]+2*r[e-3]-r[e-4]),e){case 0:break;case 1:case 2:case 3:case 4:var l=new Int32Array([s,o,f,h]),u=this.blockSize;for(n=e;n<u;n++){l[e-1]+=r[n];for(var c=e-2;c>=0;c--)l[c]+=l[c+1];r[n]=l[0]}break;default:throw new Error("Invalid Predictor Order "+e)}},this.prototype.decode_subframe_lpc=function(t,e){for(var r=this.bitstream,i=this.decoded[t],a=this.curr_bps,s=this.blockSize,o=0;o<e;o++)i[o]=r.read(a,!0);var f=r.read(4)+1;if(16===f)throw new Error("Invalid coefficient precision");var h=r.read(5,!0);if(h<0)throw new Error("Negative qlevel, maybe buggy stream");var l=new Int32Array(32);for(o=0;o<e;o++)l[o]=r.read(f,!0);if(this.decode_residuals(t,e),this.bps<=16){for(o=e;o<s-1;o+=2){for(var u=i[o-e],c=0,d=0,p=0,m=e-1;m>0;m--)c+=(p=l[m])*u,d+=p*(u=i[o-m]);c+=(p=l[0])*u,d+=p*(u=i[o]+=c>>h),i[o+1]+=d>>h}if(o<s){var v=0;for(m=0;m<e;m++)v+=l[m]*i[o-m-1];i[o]+=v>>h}}else{var y=this.lpc_total;for(o=e;o<s;o++){for(y[0]=0,y[1]=0,m=0;m<e;m++)n(y,l[m],i[o-m-1]);i[o]+=y[0]>>>h|y[1]<<32-h}}};var a=Math.pow(2,32);function n(t,e,r){var i=e*r,n=i<0;n&&(i=-i);var s=i%a|0,o=i/a|0;n&&(s=1+~s,o=~o);var f=t[1]>>>16,h=65535&t[1],l=t[0]>>>16,u=0,c=0,d=0,p=0;d+=(p+=(65535&t[0])+(65535&s))>>>16,p&=65535,c+=(d+=l+(s>>>16))>>>16,d&=65535,u+=(c+=h+(65535&o))>>>16,c&=65535,u+=f+(o>>>16),u&=65535,t[0]=d<<16|p,t[1]=u<<16|c}this.prototype.decode_residuals=function(t,e){var r=this.bitstream,i=r.read(2);if(i>1)throw new Error("Illegal residual coding method "+i);var a=r.read(4),n=this.blockSize>>>a;if(e>n)throw new Error("Invalid predictor order "+e+" > "+n);for(var s=this.decoded[t],o=e,f=e,h=0;h<1<<a;h++){var l=r.read(0===i?4:5);if(l===(0===i?15:31))for(l=r.read(5);f<n;f++)s[o++]=r.read(l,!0);else for(;f<n;f++)s[o++]=this.golomb(l,32767,0);f=0}};this.prototype.golomb=function(t,e,r){var i=this.bitstream,a=i.bitPosition,n=i.peek(32-a)<<a,s=0,o=31-function(t){var e=0,r=0;for(;!((r=t>>>24)||(e+=8,255&(r=t>>>16))||(e+=8,255&(r=t>>>8))||(e+=8,255&(r=t)));)return e+=8;240&r?r>>>=4:e+=4;return 8&r?e:4&r?e+1:2&r?e+2:1&r?e+3:e+4}(1|n);if(o-t>=7&&32-o<e)n>>>=o-t,n+=30-o<<t,i.advance(32+t-o),s=n;else{for(var f=0;0===i.read(1);f++)n=i.peek(32-a)<<a;s=f<e-1?(n=t?i.read(t):0)+(f<<t):f===e-1?(n=i.read(r))+1:-1}return s>>1^-(1&s)}}));e.exports=a},{}],3:[function(t,e,r){var a=i.Demuxer.extend((function(){i.Demuxer.register(this),this.probe=function(t){return"fLaC"===t.peekString(0,4)};this.prototype.readChunk=function(){var t=this.stream;if(!this.readHeader&&t.available(4)){if("fLaC"!==t.readString(4))return this.emit("error","Invalid FLAC file.");this.readHeader=!0}for(;t.available(1)&&!this.last;){if(!this.readBlockHeaders){var e=t.readUInt8();this.last=128==(128&e),this.type=127&e,this.size=t.readUInt24()}if(!this.foundStreamInfo&&0!==this.type)return this.emit("error","STREAMINFO must be the first block");if(!t.available(this.size))return;switch(this.type){case 0:if(this.foundStreamInfo)return this.emit("error","STREAMINFO can only occur once.");if(34!==this.size)return this.emit("error","STREAMINFO size is wrong.");this.foundStreamInfo=!0;var r=new i.Bitstream(t),a={minBlockSize:r.read(16),maxBlockSize:r.read(16),minFrameSize:r.read(24),maxFrameSize:r.read(24)};this.format={formatID:"flac",sampleRate:r.read(20),channelsPerFrame:r.read(3)+1,bitsPerChannel:r.read(5)+1},this.emit("format",this.format),this.emit("cookie",a);var n=r.read(36);this.emit("duration",n/this.format.sampleRate*1e3|0),t.advance(16),this.readBlockHeaders=!1;break;case 3:for(var s=0;s<this.size/18;s++)if(4294967295==t.peekUInt32(0)&&4294967295==t.peekUInt32(1))t.advance(18);else{t.readUInt32()>0&&this.emit("error","Seek points with sample number >UInt32 not supported");var o=t.readUInt32();t.readUInt32()>0&&this.emit("error","Seek points with stream offset >UInt32 not supported");var f=t.readUInt32();t.advance(2),this.addSeekPoint(f,o)}break;case 4:this.metadata||(this.metadata={});var h=t.readUInt32(!0);this.metadata.vendor=t.readString(h);for(var l=t.readUInt32(!0),u=0;u<l;u++){h=t.readUInt32(!0);var c=t.readString(h,"utf8"),d=c.indexOf("=");this.metadata[c.slice(0,d).toLowerCase()]=c.slice(d+1)}break;case 6:if(3!==t.readUInt32())t.advance(this.size-4);else{var p=t.readUInt32(),m=(t.readString(p),t.readUInt32()),v=(t.readString(m),t.readUInt32(),t.readUInt32(),t.readUInt32(),t.readUInt32(),l=t.readUInt32(),t.readBuffer(l));this.metadata||(this.metadata={}),this.metadata.coverArt=v}break;default:t.advance(this.size),this.readBlockHeaders=!1}this.last&&this.metadata&&this.emit("metadata",this.metadata)}for(;t.available(1)&&this.last;){var y=t.readSingleBuffer(t.remainingBytes());this.emit("data",y)}}}));e.exports=a},{}],4:[function(t,e,r){try{var a=i.OggDemuxer}catch(t){}a&&a.plugins.push({magic:"FLAC",init:function(){this.list=new i.BufferList,this.stream=new i.Stream(this.list)},readHeaders:function(t){var e=this.stream;if(this.list.append(new i.Buffer(t)),e.advance(5),1!=e.readUInt8())throw new Error("Unsupported FLAC version");if(e.advance(3),"fLaC"!=e.peekString(0,4))throw new Error("Not flac");if(this.flac=i.Demuxer.find(e.peekSingleBuffer(0,e.remainingBytes())),!this.flac)throw new Error("Flac demuxer not found");return this.flac.prototype.readChunk.call(this),!0},readPacket:function(t){this.list.append(new i.Buffer(t)),this.flac.prototype.readChunk.call(this)}})},{}]},{},[1])},function(t,e,r){var i=r(0);!function t(e,r,i){function a(s,o){if(!r[s]){if(!e[s]){if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=r[s]={exports:{}};e[s][0].call(f.exports,(function(t){var r=e[s][1][t];return a(r||t)}),f,f.exports,t,e,r,i)}return r[s].exports}for(var n=!1,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){r.MP3Demuxer=t("./src/demuxer"),r.MP3Decoder=t("./src/decoder")},{"./src/decoder":2,"./src/demuxer":3}],2:[function(t,e,r){var a=t("./header"),n=t("./stream"),s=t("./frame"),o=t("./synth"),f=(t("./layer1"),t("./layer2"),t("./layer3"),i.Decoder.extend((function(){i.Decoder.register("mp3",this),this.prototype.init=function(){this.mp3_stream=new n(this.bitstream),this.frame=new s,this.synth=new o,this.seeking=!1},this.prototype.readChunk=function(){var t=this.mp3_stream,e=this.frame,r=this.synth;if(this.seeking){for(;;)try{e.decode(t);break}catch(t){if(t instanceof i.UnderflowError)throw t}this.seeking=!1}else e.decode(t);r.frame(e);for(var a=r.pcm.samples,n=r.pcm.channels,s=r.pcm.length,o=new Float32Array(s*n),f=0,h=0;h<s;h++)for(var l=0;l<n;l++)o[f++]=a[l][h];return o},this.prototype.seek=function(t){var e;this.demuxer.seekPoints.length>0?(t=this._super(t),e=this.stream.offset):e=t*this.format.bitrate/8/this.format.sampleRate,this.mp3_stream.reset(e);for(var r=0;r<4096;r++){for(var i=e+r,n=0;n<3;n++){this.mp3_stream.reset(i);try{var s=a.decode(this.mp3_stream)}catch(t){break}var o=s.framesize();if(null==o)break;i+=o}if(3===n)break}return 3!==n&&(r=0),this.mp3_stream.reset(e+r),0===this.demuxer.seekPoints.length&&(t=this.stream.offset/(this.format.bitrate/8)*this.format.sampleRate),this.seeking=!0,t}})));e.exports=f},{"./frame":4,"./header":5,"./layer1":9,"./layer2":10,"./layer3":11,"./stream":12,"./synth":13}],3:[function(t,e,r){var a=t("./id3").ID3v23Stream,n=t("./id3").ID3v22Stream,s=t("./header"),o=t("./stream"),f=i.Demuxer.extend((function(){i.Demuxer.register(this),this.probe=function(t){var e=t.offset,r=f.getID3v2Header(t);r&&t.advance(10+r.length);var a=new o(new i.Bitstream(t)),n=null;try{n=s.decode(a)}catch(t){}return t.seek(e),!!n},this.getID3v2Header=function(t){if("ID3"==t.peekString(0,3)){(t=i.Stream.fromBuffer(t.peekBuffer(0,10))).advance(3);var e=t.readUInt8(),r=t.readUInt8(),a=t.readUInt8(),n=t.readBuffer(4).data;return{version:"2."+e+"."+r,major:e,minor:r,flags:a,length:n[0]<<21|n[1]<<14|n[2]<<7|n[3]}}return null};var t=[[32,17],[17,9]];this.prototype.parseDuration=function(e){var r,i=this.stream,a=i.offset;if(!e||3!==e.layer)return!1;i.advance(t[e.flags&s.FLAGS.LSF_EXT?1:0][1===e.nchannels()?1:0]);var n=i.readString(4);if("Xing"===n||"Info"===n){var o=i.readUInt32();if(1&o&&(r=i.readUInt32()),2&o)var f=i.readUInt32();if(4&o&&r&&f)for(var h=0;h<100;h++){var l=i.readUInt8()/256*f|0,u=h/100*(r*e.nbsamples()*32)|0;this.addSeekPoint(l,u)}8&o&&i.advance(4)}else if(i.seek(a+4+32),"VBRI"==(n=i.readString(4))&&1===i.readUInt16()){i.advance(4),i.advance(4),r=i.readUInt32();var c=i.readUInt16(),d=(i.readUInt16(),i.readUInt16()),p=i.readUInt16(),m="readUInt"+8*d;for(l=0,h=0;h<c;h++)this.addSeekPoint(l,p*h),l+=i[m]()}return!!r&&(this.emit("duration",r*e.nbsamples()*32/e.samplerate*1e3|0),!0)},this.prototype.readChunk=function(){var t=this.stream;if(!this.sentInfo){var e=f.getID3v2Header(t);if(e){if(t.advance(10),e.major>2)var r=new a(e,t);else r=new n(e,t);this.emit("metadata",r.read())}var h=t.offset,l=new o(new i.Bitstream(t)),u=s.decode(l);if(!u)return this.emit("error","Could not find first frame.");this.emit("format",{formatID:"mp3",sampleRate:u.samplerate,channelsPerFrame:u.nchannels(),bitrate:u.bitrate,floatingPoint:!0});var c=this.parseDuration(u);t.advance(h-t.offset),this.dataSize=0,c||this.on("end",(function(){this.emit("duration",8*this.dataSize/u.bitrate*1e3|0)})),this.sentInfo=!0}for(;t.available(1);){var d=t.readSingleBuffer(t.remainingBytes());this.dataSize+=d.length,this.emit("data",d)}}}));e.exports=f},{"./header":5,"./id3":7,"./stream":12}],4:[function(t,e,r){var i=t("./header"),a=t("./utils");function n(){this.header=null,this.options=0,this.sbsample=a.makeArray([2,36,32]),this.overlap=a.makeArray([2,32,18]),this.decoders=[]}n.layers=[],n.prototype.decode=function(t){this.header&&this.header.flags&i.FLAGS.INCOMPLETE||(this.header=i.decode(t)),this.header.flags&=~i.FLAGS.INCOMPLETE;var e=this.decoders[this.header.layer-1];if(!e){var r=n.layers[this.header.layer];if(!r)throw new Error("Layer "+this.header.layer+" is not supported.");e=this.decoders[this.header.layer-1]=new r}e.decode(t,this)},e.exports=n},{"./header":5,"./utils":15}],5:[function(t,e,r){function a(){this.layer=0,this.mode=0,this.mode_extension=0,this.emphasis=0,this.bitrate=0,this.samplerate=0,this.crc_check=0,this.crc_target=0,this.flags=0,this.private_bits=0}var n=[[0,32e3,64e3,96e3,128e3,16e4,192e3,224e3,256e3,288e3,32e4,352e3,384e3,416e3,448e3],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4,384e3],[0,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4,176e3,192e3,224e3,256e3],[0,8e3,16e3,24e3,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4]],s=[44100,48e3,32e3];a.FLAGS={NPRIVATE_III:7,INCOMPLETE:8,PROTECTION:16,COPYRIGHT:32,ORIGINAL:64,PADDING:128,I_STEREO:256,MS_STEREO:512,FREEFORMAT:1024,LSF_EXT:4096,MC_EXT:8192,MPEG_2_5_EXT:16384};var o=256;a.MODE={SINGLE_CHANNEL:0,DUAL_CHANNEL:1,JOINT_STEREO:2,STEREO:3};a.BUFFER_GUARD=8,a.BUFFER_MDLEN=2559+a.BUFFER_GUARD,a.prototype.copy=function(){var t=new a,e=Object.keys(this);for(var r in e)t[r]=this[r];return t},a.prototype.nchannels=function(){return 0===this.mode?1:2},a.prototype.nbsamples=function(){return 1===this.layer?12:3===this.layer&&this.flags&a.FLAGS.LSF_EXT?18:36},a.prototype.framesize=function(){if(0===this.bitrate)return null;var t=this.flags&a.FLAGS.PADDING?1:0;switch(this.layer){case 1:return 4*((12*this.bitrate/this.samplerate|0)+t);case 2:return(144*this.bitrate/this.samplerate|0)+t;case 3:default:var e=this.flags&a.FLAGS.LSF_EXT?1:0;return(144*this.bitrate/(this.samplerate<<e)|0)+t}},a.prototype.decode=function(t){if(this.flags=0,this.private_bits=0,t.advance(11),0===t.read(1)&&(this.flags|=a.FLAGS.MPEG_2_5_EXT),0===t.read(1))this.flags|=a.FLAGS.LSF_EXT;else if(this.flags&a.FLAGS.MPEG_2_5_EXT)throw new i.UnderflowError;if(this.layer=4-t.read(2),4===this.layer)throw new Error("Invalid layer");0===t.read(1)&&(this.flags|=a.FLAGS.PROTECTION);var e=t.read(4);if(15===e)throw new Error("Invalid bitrate");if(this.flags&a.FLAGS.LSF_EXT?this.bitrate=n[3+(this.layer>>1)][e]:this.bitrate=n[this.layer-1][e],3===(e=t.read(2)))throw new Error("Invalid sampling frequency");this.samplerate=s[e],this.flags&a.FLAGS.LSF_EXT&&(this.samplerate/=2,this.flags&a.FLAGS.MPEG_2_5_EXT&&(this.samplerate/=2)),t.read(1)&&(this.flags|=a.FLAGS.PADDING),t.read(1)&&(this.private_bits|=o),this.mode=3-t.read(2),this.mode_extension=t.read(2),t.read(1)&&(this.flags|=a.FLAGS.COPYRIGHT),t.read(1)&&(this.flags|=a.FLAGS.ORIGINAL),this.emphasis=t.read(2),this.flags&a.FLAGS.PROTECTION&&(this.crc_target=t.read(16))},a.decode=function(t){for(var e=t.next_frame,r=!0,n=null;r;){if(r=!1,t.sync){if(!t.available(a.BUFFER_GUARD))throw t.next_frame=e,new i.UnderflowError;if(255!==t.getU8(e)||224!=(224&t.getU8(e+1)))throw t.this_frame=e,t.next_frame=e+1,new i.UnderflowError}else{if(t.seek(8*e),!t.doSync())throw new i.UnderflowError;e=t.nextByte()}t.this_frame=e,t.next_frame=e+1,t.seek(8*t.this_frame),(n=new a).decode(t),0===n.bitrate&&((0===t.freerate||!t.sync||3===n.layer&&t.freerate>64e4)&&a.free_bitrate(t,n),n.bitrate=t.freerate,n.flags|=a.FLAGS.FREEFORMAT);var s=n.flags&a.FLAGS.PADDING?1:0;if(1===n.layer)var o=4*((12*n.bitrate/n.samplerate<<0)+s);else o=((3===n.layer&&n.flags&a.FLAGS.LSF_EXT?72:144)*n.bitrate/n.samplerate<<0)+s;if(!t.available(o+a.BUFFER_GUARD))throw t.next_frame=t.this_frame,new i.UnderflowError;if(t.next_frame=t.this_frame+o,!t.sync){if(e=t.next_frame,255!==t.getU8(e)||224!=(224&t.getU8(e+1))){e=t.next_frame=t.this_frame+1,r=!0;continue}t.sync=!0}}return n.flags|=a.FLAGS.INCOMPLETE,n},a.free_bitrate=function(t,e){for(var r=e.flags&a.FLAGS.PADDING?1:0,n=3===e.layer&&e.flags&a.FLAGS.LSF_EXT?72:144,s=t.offset(),o=0;t.doSync();){var f=e.copy(),h=t.copy();if(f.decode(h)&&f.layer===e.layer&&f.samplerate===e.samplerate){var l=t.nextByte()-t.this_frame;if((o=1===e.layer?e.samplerate*(l-4*r+4)/48/1e3|0:e.samplerate*(l-r+1)/n/1e3|0)>=8)break}t.advance(8)}if(t.seek(s),o<8||3===e.layer&&o>640)throw new i.UnderflowError;t.freerate=1e3*o},e.exports=a},{}],6:[function(t,e,r){var i=function(t,e){return{final:0,ptr:{bits:e,offset:t}}},a=function(t,e,r,i,a){return{final:1,value:{v:t,w:e,x:r,y:i,hlen:a}}},n=[i(16,2),i(20,2),i(24,1),i(26,1),a(0,0,1,0,4),a(0,0,0,1,4),a(0,1,0,0,4),a(1,0,0,0,4),a(0,0,0,0,1),a(0,0,0,0,1),a(0,0,0,0,1),a(0,0,0,0,1),a(0,0,0,0,1),a(0,0,0,0,1),a(0,0,0,0,1),a(0,0,0,0,1),a(1,0,1,1,2),a(1,1,1,1,2),a(1,1,0,1,2),a(1,1,1,0,2),a(0,1,1,1,2),a(0,1,0,1,2),a(1,0,0,1,1),a(1,0,0,1,1),a(0,1,1,0,1),a(0,0,1,1,1),a(1,0,1,0,1),a(1,1,0,0,1)],s=[a(1,1,1,1,4),a(1,1,1,0,4),a(1,1,0,1,4),a(1,1,0,0,4),a(1,0,1,1,4),a(1,0,1,0,4),a(1,0,0,1,4),a(1,0,0,0,4),a(0,1,1,1,4),a(0,1,1,0,4),a(0,1,0,1,4),a(0,1,0,0,4),a(0,0,1,1,4),a(0,0,1,0,4),a(0,0,0,1,4),a(0,0,0,0,4)],o=function(t,e,r){return{final:1,value:{x:t,y:e,hlen:r}}},f=[o(0,0,0)],h=[o(1,1,3),o(0,1,3),o(1,0,2),o(1,0,2),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1)],l=[i(8,3),o(1,1,3),o(0,1,3),o(1,0,3),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(2,2,3),o(0,2,3),o(1,2,2),o(1,2,2),o(2,1,2),o(2,1,2),o(2,0,2),o(2,0,2)],u=[i(8,3),o(1,0,3),o(1,1,2),o(1,1,2),o(0,1,2),o(0,1,2),o(0,0,2),o(0,0,2),o(2,2,3),o(0,2,3),o(1,2,2),o(1,2,2),o(2,1,2),o(2,1,2),o(2,0,2),o(2,0,2)],c=[i(8,4),o(1,1,3),o(0,1,3),o(1,0,3),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),i(24,1),o(3,2,4),o(3,1,3),o(3,1,3),o(1,3,4),o(0,3,4),o(3,0,4),o(2,2,4),o(1,2,3),o(1,2,3),o(2,1,3),o(2,1,3),o(0,2,3),o(0,2,3),o(2,0,3),o(2,0,3),o(3,3,1),o(2,3,1)],d=[i(16,3),i(24,1),i(26,1),o(1,2,4),o(2,1,4),o(2,0,4),o(0,1,3),o(0,1,3),o(1,1,2),o(1,1,2),o(1,1,2),o(1,1,2),o(1,0,3),o(1,0,3),o(0,0,3),o(0,0,3),o(3,3,3),o(0,3,3),o(2,3,2),o(2,3,2),o(3,2,2),o(3,2,2),o(3,0,2),o(3,0,2),o(1,3,1),o(3,1,1),o(2,2,1),o(0,2,1)],p=[i(16,4),i(32,4),i(48,2),o(1,1,4),o(0,1,3),o(0,1,3),o(1,0,3),o(1,0,3),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),i(52,2),i(56,1),i(58,1),o(1,5,4),o(5,1,4),i(60,1),o(5,0,4),i(62,1),o(2,4,4),o(4,2,4),o(1,4,3),o(1,4,3),o(4,1,3),o(4,1,3),o(4,0,3),o(4,0,3),o(0,4,4),o(2,3,4),o(3,2,4),o(0,3,4),o(1,3,3),o(1,3,3),o(3,1,3),o(3,1,3),o(3,0,3),o(3,0,3),o(2,2,3),o(2,2,3),o(1,2,2),o(1,2,2),o(1,2,2),o(1,2,2),o(2,1,1),o(2,1,1),o(0,2,2),o(2,0,2),o(5,5,2),o(4,5,2),o(5,4,2),o(5,3,2),o(3,5,1),o(4,4,1),o(2,5,1),o(5,2,1),o(0,5,1),o(3,4,1),o(4,3,1),o(3,3,1)],m=[i(16,4),i(32,4),o(1,2,4),o(2,1,4),o(1,1,2),o(1,1,2),o(1,1,2),o(1,1,2),o(0,1,3),o(0,1,3),o(1,0,3),o(1,0,3),o(0,0,2),o(0,0,2),o(0,0,2),o(0,0,2),i(48,3),i(56,2),i(60,1),o(1,5,4),o(5,1,4),i(62,1),i(64,1),o(2,4,4),o(4,2,4),o(1,4,4),o(4,1,3),o(4,1,3),o(0,4,4),o(4,0,4),o(2,3,4),o(3,2,4),o(1,3,4),o(3,1,4),o(0,3,4),o(3,0,4),o(2,2,2),o(2,2,2),o(2,2,2),o(2,2,2),o(0,2,2),o(0,2,2),o(0,2,2),o(0,2,2),o(2,0,2),o(2,0,2),o(2,0,2),o(2,0,2),o(5,5,3),o(5,4,3),o(4,5,2),o(4,5,2),o(5,3,1),o(5,3,1),o(5,3,1),o(5,3,1),o(3,5,2),o(4,4,2),o(2,5,1),o(2,5,1),o(5,2,1),o(0,5,1),o(3,4,1),o(4,3,1),o(5,0,1),o(3,3,1)],v=[i(16,4),i(32,3),i(40,2),i(44,2),i(48,1),o(1,2,4),o(2,1,4),o(2,0,4),o(1,1,3),o(1,1,3),o(0,1,3),o(0,1,3),o(1,0,3),o(1,0,3),o(0,0,3),o(0,0,3),i(50,1),o(3,5,4),o(5,3,4),i(52,1),o(4,4,4),o(2,5,4),o(5,2,4),o(1,5,4),o(5,1,3),o(5,1,3),o(3,4,3),o(3,4,3),o(4,3,3),o(4,3,3),o(5,0,4),o(0,4,4),o(2,4,3),o(4,2,3),o(3,3,3),o(4,0,3),o(1,4,2),o(1,4,2),o(4,1,2),o(4,1,2),o(2,3,2),o(3,2,2),o(1,3,1),o(1,3,1),o(3,1,1),o(3,1,1),o(0,3,2),o(3,0,2),o(2,2,1),o(0,2,1),o(5,5,1),o(4,5,1),o(5,4,1),o(0,5,1)],y=[i(16,4),i(32,4),i(48,2),o(1,1,4),o(0,1,3),o(0,1,3),o(1,0,3),o(1,0,3),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),i(52,3),i(60,2),i(64,3),i(72,1),i(74,2),i(78,2),i(82,2),o(1,7,4),o(7,1,4),i(86,1),i(88,2),i(92,2),o(1,6,4),o(6,1,4),o(6,0,4),i(96,1),i(98,1),i(100,1),o(1,4,4),o(4,1,4),o(4,0,4),o(2,3,4),o(3,2,4),o(0,3,4),o(1,3,3),o(1,3,3),o(3,1,3),o(3,1,3),o(3,0,3),o(3,0,3),o(2,2,3),o(2,2,3),o(1,2,2),o(2,1,2),o(0,2,2),o(2,0,2),o(7,7,3),o(6,7,3),o(7,6,3),o(5,7,3),o(7,5,3),o(6,6,3),o(4,7,2),o(4,7,2),o(7,4,2),o(5,6,2),o(6,5,2),o(3,7,2),o(7,3,2),o(7,3,2),o(4,6,2),o(4,6,2),o(5,5,3),o(5,4,3),o(6,3,2),o(6,3,2),o(2,7,1),o(7,2,1),o(6,4,2),o(0,7,2),o(7,0,1),o(7,0,1),o(6,2,1),o(6,2,1),o(4,5,2),o(3,5,2),o(0,6,1),o(0,6,1),o(5,3,2),o(4,4,2),o(3,6,1),o(2,6,1),o(2,5,2),o(5,2,2),o(1,5,1),o(1,5,1),o(5,1,1),o(5,1,1),o(3,4,2),o(4,3,2),o(0,5,1),o(5,0,1),o(2,4,1),o(4,2,1),o(3,3,1),o(0,4,1)],b=[i(16,4),i(32,4),i(48,4),i(64,3),o(1,2,4),i(72,1),o(1,1,3),o(1,1,3),o(0,1,3),o(0,1,3),o(1,0,3),o(1,0,3),o(0,0,2),o(0,0,2),o(0,0,2),o(0,0,2),i(74,2),i(78,3),i(86,2),i(90,1),i(92,2),o(2,7,4),o(7,2,4),i(96,1),o(7,1,3),o(7,1,3),o(1,7,4),o(7,0,4),o(3,6,4),o(6,3,4),o(6,0,4),i(98,1),i(100,1),o(1,5,4),o(6,2,3),o(6,2,3),o(2,6,4),o(0,6,4),o(1,6,3),o(1,6,3),o(6,1,3),o(6,1,3),o(5,1,4),o(3,4,4),o(5,0,4),i(102,1),o(2,4,4),o(4,2,4),o(1,4,4),o(4,1,4),o(0,4,4),o(4,0,4),o(2,3,3),o(2,3,3),o(3,2,3),o(3,2,3),o(1,3,2),o(1,3,2),o(1,3,2),o(1,3,2),o(3,1,2),o(3,1,2),o(3,1,2),o(3,1,2),o(0,3,3),o(3,0,3),o(2,2,2),o(2,2,2),o(2,1,1),o(2,1,1),o(2,1,1),o(2,1,1),o(0,2,1),o(2,0,1),o(7,7,2),o(6,7,2),o(7,6,2),o(7,5,2),o(6,6,2),o(6,6,2),o(4,7,2),o(4,7,2),o(7,4,2),o(7,4,2),o(5,7,3),o(5,5,3),o(5,6,2),o(6,5,2),o(3,7,1),o(3,7,1),o(7,3,1),o(4,6,1),o(4,5,2),o(5,4,2),o(3,5,2),o(5,3,2),o(6,4,1),o(0,7,1),o(4,4,1),o(2,5,1),o(5,2,1),o(0,5,1),o(4,3,1),o(3,3,1)],g=[i(16,4),i(32,4),i(48,4),i(64,2),i(68,3),i(76,1),o(1,2,4),o(2,1,4),i(78,1),o(0,0,4),o(1,1,3),o(1,1,3),o(0,1,3),o(0,1,3),o(1,0,3),o(1,0,3),i(80,2),i(84,1),i(86,1),i(88,1),o(5,6,4),o(3,7,4),i(90,1),o(2,7,4),o(7,2,4),o(4,6,4),o(6,4,4),o(1,7,4),o(7,1,4),i(92,1),o(3,6,4),o(6,3,4),o(4,5,4),o(5,4,4),o(4,4,4),i(94,1),o(2,6,3),o(2,6,3),o(6,2,3),o(6,2,3),o(6,1,3),o(6,1,3),o(1,6,4),o(6,0,4),o(3,5,4),o(5,3,4),o(2,5,4),o(5,2,4),o(1,5,3),o(1,5,3),o(5,1,3),o(5,1,3),o(3,4,3),o(3,4,3),o(4,3,3),o(4,3,3),o(5,0,4),o(0,4,4),o(2,4,3),o(2,4,3),o(4,2,3),o(4,2,3),o(1,4,3),o(1,4,3),o(3,3,2),o(4,1,2),o(2,3,2),o(3,2,2),o(4,0,3),o(0,3,3),o(3,0,2),o(3,0,2),o(1,3,1),o(1,3,1),o(1,3,1),o(1,3,1),o(3,1,1),o(2,2,1),o(0,2,1),o(2,0,1),o(7,7,2),o(6,7,2),o(7,6,1),o(7,6,1),o(5,7,1),o(7,5,1),o(6,6,1),o(4,7,1),o(7,4,1),o(6,5,1),o(7,3,1),o(5,5,1),o(0,7,1),o(7,0,1),o(0,6,1),o(0,5,1)],_=[i(16,4),i(32,4),i(48,4),i(64,2),o(1,1,4),o(0,1,4),o(1,0,3),o(1,0,3),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),i(68,4),i(84,4),i(100,4),i(116,4),i(132,4),i(148,4),i(164,3),i(172,3),i(180,3),i(188,3),i(196,3),i(204,3),i(212,1),i(214,2),i(218,3),i(226,1),i(228,2),i(232,2),i(236,2),i(240,2),o(8,1,4),i(244,1),i(246,1),i(248,1),i(250,2),i(254,1),o(1,5,4),o(5,1,4),i(256,1),i(258,1),i(260,1),o(1,4,4),o(4,1,3),o(4,1,3),o(0,4,4),o(4,0,4),o(2,3,4),o(3,2,4),o(1,3,3),o(1,3,3),o(3,1,3),o(3,1,3),o(0,3,3),o(0,3,3),o(3,0,3),o(3,0,3),o(2,2,3),o(2,2,3),o(1,2,2),o(2,1,2),o(0,2,2),o(2,0,2),i(262,4),i(278,4),i(294,4),i(310,3),i(318,2),i(322,2),i(326,3),i(334,2),i(338,1),i(340,2),i(344,2),i(348,2),i(352,2),i(356,2),o(1,15,4),o(15,1,4),o(15,0,4),i(360,1),i(362,1),i(364,1),o(14,2,4),i(366,1),o(1,14,4),o(14,1,4),i(368,1),i(370,1),i(372,1),i(374,1),i(376,1),i(378,1),o(12,6,4),o(3,13,4),i(380,1),o(2,13,4),o(13,2,4),o(1,13,4),o(11,7,4),i(382,1),i(384,1),o(12,3,4),i(386,1),o(4,11,4),o(13,1,3),o(13,1,3),o(0,13,4),o(13,0,4),o(8,10,4),o(10,8,4),o(4,12,4),o(12,4,4),o(6,11,4),o(11,6,4),o(3,12,3),o(3,12,3),o(2,12,3),o(2,12,3),o(12,2,3),o(12,2,3),o(5,11,3),o(5,11,3),o(11,5,4),o(8,9,4),o(1,12,3),o(1,12,3),o(12,1,3),o(12,1,3),o(9,8,4),o(0,12,4),o(12,0,3),o(12,0,3),o(11,4,4),o(6,10,4),o(10,6,4),o(7,9,4),o(3,11,3),o(3,11,3),o(11,3,3),o(11,3,3),o(8,8,4),o(5,10,4),o(2,11,3),o(2,11,3),o(10,5,4),o(6,9,4),o(10,4,3),o(10,4,3),o(7,8,4),o(8,7,4),o(9,4,3),o(9,4,3),o(7,7,4),o(7,6,4),o(11,2,2),o(11,2,2),o(11,2,2),o(11,2,2),o(1,11,2),o(1,11,2),o(11,1,2),o(11,1,2),o(0,11,3),o(11,0,3),o(9,6,3),o(4,10,3),o(3,10,3),o(10,3,3),o(5,9,3),o(9,5,3),o(2,10,2),o(2,10,2),o(10,2,2),o(10,2,2),o(1,10,2),o(1,10,2),o(10,1,2),o(10,1,2),o(0,10,3),o(6,8,3),o(10,0,2),o(10,0,2),o(8,6,3),o(4,9,3),o(9,3,2),o(9,3,2),o(3,9,3),o(5,8,3),o(8,5,3),o(6,7,3),o(2,9,2),o(2,9,2),o(9,2,2),o(9,2,2),o(5,7,3),o(7,5,3),o(3,8,2),o(3,8,2),o(8,3,2),o(8,3,2),o(6,6,3),o(4,7,3),o(7,4,3),o(5,6,3),o(6,5,3),o(7,3,3),o(1,9,1),o(9,1,1),o(0,9,2),o(9,0,2),o(4,8,2),o(8,4,2),o(7,2,2),o(7,2,2),o(4,6,3),o(6,4,3),o(2,8,1),o(2,8,1),o(2,8,1),o(2,8,1),o(8,2,1),o(1,8,1),o(3,7,2),o(2,7,2),o(1,7,1),o(1,7,1),o(7,1,1),o(7,1,1),o(5,5,2),o(0,7,2),o(7,0,2),o(3,6,2),o(6,3,2),o(4,5,2),o(5,4,2),o(2,6,2),o(6,2,2),o(3,5,2),o(0,8,1),o(8,0,1),o(1,6,1),o(6,1,1),o(0,6,1),o(6,0,1),o(5,3,2),o(4,4,2),o(2,5,1),o(2,5,1),o(5,2,1),o(0,5,1),o(3,4,1),o(4,3,1),o(5,0,1),o(2,4,1),o(4,2,1),o(3,3,1),i(388,3),o(15,15,4),o(14,15,4),o(13,15,4),o(14,14,4),o(12,15,4),o(13,14,4),o(11,15,4),o(15,11,4),o(12,14,4),o(13,12,4),i(396,1),o(14,12,3),o(14,12,3),o(13,13,3),o(13,13,3),o(15,10,4),o(12,13,4),o(11,14,3),o(11,14,3),o(14,11,3),o(14,11,3),o(9,15,3),o(9,15,3),o(15,9,3),o(15,9,3),o(14,10,3),o(14,10,3),o(11,13,3),o(11,13,3),o(13,11,3),o(13,11,3),o(8,15,3),o(8,15,3),o(15,8,3),o(15,8,3),o(12,12,3),o(12,12,3),o(10,14,4),o(9,14,4),o(8,14,3),o(8,14,3),o(7,15,4),o(7,14,4),o(15,7,2),o(15,7,2),o(15,7,2),o(15,7,2),o(13,10,2),o(13,10,2),o(10,13,3),o(11,12,3),o(12,11,3),o(15,6,3),o(6,15,2),o(6,15,2),o(14,8,2),o(5,15,2),o(9,13,2),o(13,9,2),o(15,5,2),o(14,7,2),o(10,12,2),o(11,11,2),o(4,15,2),o(4,15,2),o(15,4,2),o(15,4,2),o(12,10,3),o(14,6,3),o(15,3,2),o(15,3,2),o(3,15,1),o(3,15,1),o(8,13,2),o(13,8,2),o(2,15,1),o(15,2,1),o(6,14,2),o(9,12,2),o(0,15,1),o(0,15,1),o(12,9,2),o(5,14,2),o(10,11,1),o(10,11,1),o(7,13,2),o(13,7,2),o(4,14,1),o(4,14,1),o(12,8,2),o(13,6,2),o(3,14,1),o(3,14,1),o(11,9,1),o(11,9,1),o(9,11,2),o(10,10,2),o(11,10,1),o(14,5,1),o(14,4,1),o(8,12,1),o(6,13,1),o(14,3,1),o(2,14,1),o(0,14,1),o(14,0,1),o(5,13,1),o(13,5,1),o(7,12,1),o(12,7,1),o(4,13,1),o(8,11,1),o(11,8,1),o(13,4,1),o(9,10,1),o(10,9,1),o(6,12,1),o(13,3,1),o(7,11,1),o(5,12,1),o(12,5,1),o(9,9,1),o(7,10,1),o(10,7,1),o(9,7,1),o(15,14,3),o(15,12,3),o(15,13,2),o(15,13,2),o(14,13,1),o(14,13,1),o(14,13,1),o(14,13,1),o(10,15,1),o(14,9,1)],w=[i(16,4),i(32,4),i(48,4),i(64,4),i(80,4),i(96,3),i(104,3),i(112,2),i(116,1),i(118,1),o(1,1,3),o(1,1,3),o(0,1,4),o(1,0,4),o(0,0,3),o(0,0,3),i(120,4),i(136,4),i(152,4),i(168,4),i(184,4),i(200,3),i(208,3),i(216,4),i(232,3),i(240,3),i(248,3),i(256,3),i(264,2),i(268,3),i(276,3),i(284,2),i(288,2),i(292,2),i(296,2),i(300,2),i(304,2),i(308,2),i(312,2),i(316,2),i(320,1),i(322,1),i(324,1),i(326,2),i(330,1),i(332,1),i(334,2),i(338,1),i(340,1),i(342,1),o(9,1,4),i(344,1),i(346,1),i(348,1),i(350,1),i(352,1),o(2,8,4),o(8,2,4),o(1,8,4),o(8,1,4),i(354,1),i(356,1),i(358,1),i(360,1),o(2,7,4),o(7,2,4),o(6,4,4),o(1,7,4),o(5,5,4),o(7,1,4),i(362,1),o(3,6,4),o(6,3,4),o(4,5,4),o(5,4,4),o(2,6,4),o(6,2,4),o(1,6,4),i(364,1),o(3,5,4),o(6,1,3),o(6,1,3),o(5,3,4),o(4,4,4),o(2,5,3),o(2,5,3),o(5,2,3),o(5,2,3),o(1,5,3),o(1,5,3),o(5,1,3),o(5,1,3),o(0,5,4),o(5,0,4),o(3,4,3),o(3,4,3),o(4,3,3),o(2,4,3),o(4,2,3),o(3,3,3),o(4,1,2),o(4,1,2),o(1,4,3),o(0,4,3),o(2,3,2),o(2,3,2),o(3,2,2),o(3,2,2),o(4,0,3),o(0,3,3),o(1,3,2),o(1,3,2),o(3,1,2),o(3,0,2),o(2,2,1),o(2,2,1),o(1,2,1),o(2,1,1),o(0,2,1),o(2,0,1),i(366,1),i(368,1),o(14,14,4),i(370,1),i(372,1),i(374,1),o(15,11,4),i(376,1),o(13,13,4),o(10,15,4),o(15,10,4),o(11,14,4),o(14,11,4),o(12,13,4),o(13,12,4),o(9,15,4),o(15,9,4),o(14,10,4),o(11,13,4),o(13,11,4),o(8,15,4),o(15,8,4),o(12,12,4),o(9,14,4),o(14,9,4),o(7,15,4),o(15,7,4),o(10,13,4),o(13,10,4),o(11,12,4),o(6,15,4),i(378,1),o(12,11,3),o(12,11,3),o(15,6,3),o(15,6,3),o(8,14,4),o(14,8,4),o(5,15,4),o(9,13,4),o(15,5,3),o(15,5,3),o(7,14,3),o(7,14,3),o(14,7,3),o(14,7,3),o(10,12,3),o(10,12,3),o(12,10,3),o(12,10,3),o(11,11,3),o(11,11,3),o(13,9,4),o(8,13,4),o(4,15,3),o(4,15,3),o(15,4,3),o(15,4,3),o(3,15,3),o(3,15,3),o(15,3,3),o(15,3,3),o(13,8,3),o(13,8,3),o(14,6,3),o(14,6,3),o(2,15,3),o(2,15,3),o(15,2,3),o(15,2,3),o(6,14,4),o(15,0,4),o(1,15,3),o(1,15,3),o(15,1,3),o(15,1,3),o(9,12,3),o(9,12,3),o(12,9,3),o(12,9,3),o(5,14,3),o(10,11,3),o(11,10,3),o(14,5,3),o(7,13,3),o(13,7,3),o(4,14,3),o(14,4,3),o(8,12,3),o(12,8,3),o(3,14,3),o(6,13,3),o(13,6,3),o(14,3,3),o(9,11,3),o(11,9,3),o(2,14,3),o(2,14,3),o(10,10,3),o(10,10,3),o(14,2,3),o(14,2,3),o(1,14,3),o(1,14,3),o(14,1,3),o(14,1,3),o(0,14,4),o(14,0,4),o(5,13,3),o(5,13,3),o(13,5,3),o(13,5,3),o(7,12,3),o(12,7,3),o(4,13,3),o(8,11,3),o(13,4,2),o(13,4,2),o(11,8,3),o(9,10,3),o(10,9,3),o(6,12,3),o(12,6,3),o(3,13,3),o(13,3,2),o(13,3,2),o(13,2,2),o(13,2,2),o(2,13,3),o(0,13,3),o(1,13,2),o(1,13,2),o(7,11,2),o(7,11,2),o(11,7,2),o(11,7,2),o(13,1,2),o(13,1,2),o(5,12,3),o(13,0,3),o(12,5,2),o(12,5,2),o(8,10,2),o(8,10,2),o(10,8,2),o(4,12,2),o(12,4,2),o(6,11,2),o(11,6,2),o(11,6,2),o(9,9,3),o(0,12,3),o(3,12,2),o(3,12,2),o(12,3,2),o(12,3,2),o(7,10,2),o(7,10,2),o(10,7,2),o(10,7,2),o(10,6,2),o(10,6,2),o(12,0,3),o(0,11,3),o(12,2,1),o(12,2,1),o(2,12,2),o(5,11,2),o(11,5,2),o(1,12,2),o(8,9,2),o(9,8,2),o(12,1,2),o(4,11,2),o(11,4,2),o(6,10,2),o(3,11,2),o(7,9,2),o(11,3,1),o(11,3,1),o(9,7,2),o(8,8,2),o(2,11,2),o(5,10,2),o(11,2,1),o(11,2,1),o(10,5,2),o(1,11,2),o(11,1,1),o(11,1,1),o(11,0,2),o(6,9,2),o(9,6,2),o(4,10,2),o(10,4,2),o(7,8,2),o(8,7,2),o(3,10,2),o(10,3,1),o(10,3,1),o(5,9,1),o(9,5,1),o(2,10,1),o(10,2,1),o(1,10,1),o(10,1,1),o(0,10,2),o(10,0,2),o(6,8,1),o(6,8,1),o(8,6,1),o(4,9,1),o(9,4,1),o(3,9,1),o(9,3,1),o(9,3,1),o(7,7,2),o(0,9,2),o(5,8,1),o(8,5,1),o(2,9,1),o(6,7,1),o(7,6,1),o(9,2,1),o(1,9,1),o(9,0,1),o(4,8,1),o(8,4,1),o(5,7,1),o(7,5,1),o(3,8,1),o(8,3,1),o(6,6,1),o(4,7,1),o(7,4,1),o(0,8,1),o(8,0,1),o(5,6,1),o(6,5,1),o(3,7,1),o(7,3,1),o(4,6,1),o(0,7,1),o(7,0,1),o(0,6,1),o(6,0,1),o(15,15,1),o(14,15,1),o(15,14,1),o(13,15,1),o(15,13,1),o(12,15,1),o(15,12,1),o(13,14,1),o(14,13,1),o(11,15,1),o(12,14,1),o(14,12,1),o(10,14,1),o(0,15,1)],k=[i(16,4),i(32,4),i(48,4),i(64,2),o(1,1,4),o(0,1,4),o(1,0,3),o(1,0,3),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),o(0,0,1),i(68,3),i(76,3),i(84,2),o(15,15,4),i(88,2),i(92,1),i(94,4),o(15,2,4),i(110,1),o(1,15,4),o(15,1,4),i(112,4),i(128,4),i(144,4),i(160,4),i(176,4),i(192,4),i(208,3),i(216,3),i(224,3),i(232,3),i(240,3),i(248,3),i(256,3),i(264,2),i(268,2),i(272,1),i(274,2),i(278,2),i(282,1),o(5,1,4),i(284,1),i(286,1),i(288,1),i(290,1),o(1,4,4),o(4,1,4),i(292,1),o(2,3,4),o(3,2,4),o(1,3,3),o(1,3,3),o(3,1,3),o(3,1,3),o(0,3,4),o(3,0,4),o(2,2,3),o(2,2,3),o(1,2,2),o(2,1,2),o(0,2,2),o(2,0,2),o(14,15,3),o(15,14,3),o(13,15,3),o(15,13,3),o(12,15,3),o(15,12,3),o(11,15,3),o(15,11,3),o(10,15,2),o(10,15,2),o(15,10,3),o(9,15,3),o(15,9,3),o(15,8,3),o(8,15,2),o(8,15,2),o(7,15,2),o(15,7,2),o(6,15,2),o(15,6,2),o(5,15,2),o(15,5,2),o(4,15,1),o(4,15,1),o(15,4,1),o(15,3,1),o(15,0,1),o(15,0,1),o(15,0,1),o(15,0,1),o(15,0,1),o(15,0,1),o(15,0,1),o(15,0,1),o(3,15,2),o(3,15,2),o(3,15,2),o(3,15,2),i(294,4),i(310,3),i(318,3),i(326,3),o(2,15,1),o(0,15,1),i(334,2),i(338,2),i(342,2),i(346,1),i(348,2),i(352,2),i(356,1),i(358,2),i(362,2),i(366,2),i(370,2),o(14,3,4),i(374,1),i(376,1),i(378,1),i(380,1),i(382,1),i(384,1),i(386,1),o(0,13,4),i(388,1),i(390,1),i(392,1),o(3,12,4),i(394,1),o(1,12,4),o(12,0,4),i(396,1),o(14,2,3),o(14,2,3),o(2,14,4),o(1,14,4),o(13,3,4),o(2,13,4),o(13,2,4),o(13,1,4),o(3,11,4),i(398,1),o(1,13,3),o(1,13,3),o(12,4,4),o(6,11,4),o(12,3,4),o(10,7,4),o(2,12,3),o(2,12,3),o(12,2,4),o(11,5,4),o(12,1,4),o(0,12,4),o(4,11,4),o(11,4,4),o(6,10,4),o(10,6,4),o(11,3,3),o(11,3,3),o(5,10,4),o(10,5,4),o(2,11,3),o(2,11,3),o(11,2,3),o(11,2,3),o(1,11,3),o(1,11,3),o(11,1,3),o(11,1,3),o(0,11,4),o(11,0,4),o(6,9,4),o(9,6,4),o(4,10,4),o(10,4,4),o(7,8,4),o(8,7,4),o(10,3,3),o(10,3,3),o(3,10,4),o(5,9,4),o(2,10,3),o(2,10,3),o(9,5,4),o(6,8,4),o(10,1,3),o(10,1,3),o(8,6,4),o(7,7,4),o(9,4,3),o(9,4,3),o(4,9,4),o(5,7,4),o(6,7,3),o(6,7,3),o(10,2,2),o(10,2,2),o(10,2,2),o(10,2,2),o(1,10,2),o(1,10,2),o(0,10,3),o(10,0,3),o(3,9,3),o(9,3,3),o(5,8,3),o(8,5,3),o(2,9,2),o(2,9,2),o(9,2,2),o(9,2,2),o(7,6,3),o(0,9,3),o(1,9,2),o(1,9,2),o(9,1,2),o(9,1,2),o(9,0,3),o(4,8,3),o(8,4,3),o(7,5,3),o(3,8,3),o(8,3,3),o(6,6,3),o(2,8,3),o(8,2,2),o(8,2,2),o(4,7,3),o(7,4,3),o(1,8,2),o(1,8,2),o(8,1,2),o(8,1,2),o(8,0,2),o(8,0,2),o(0,8,3),o(5,6,3),o(3,7,2),o(3,7,2),o(7,3,2),o(7,3,2),o(6,5,3),o(4,6,3),o(2,7,2),o(2,7,2),o(7,2,2),o(7,2,2),o(6,4,3),o(5,5,3),o(0,7,2),o(0,7,2),o(1,7,1),o(1,7,1),o(1,7,1),o(1,7,1),o(7,1,1),o(7,1,1),o(7,0,2),o(3,6,2),o(6,3,2),o(4,5,2),o(5,4,2),o(2,6,2),o(6,2,1),o(1,6,1),o(6,1,1),o(6,1,1),o(0,6,2),o(6,0,2),o(5,3,1),o(5,3,1),o(3,5,2),o(4,4,2),o(2,5,1),o(5,2,1),o(1,5,1),o(0,5,1),o(3,4,1),o(4,3,1),o(5,0,1),o(2,4,1),o(4,2,1),o(3,3,1),o(0,4,1),o(4,0,1),o(12,14,4),i(400,1),o(13,14,3),o(13,14,3),o(14,9,3),o(14,9,3),o(14,10,4),o(13,9,4),o(14,14,2),o(14,14,2),o(14,14,2),o(14,14,2),o(14,13,3),o(14,13,3),o(14,11,3),o(14,11,3),o(11,14,2),o(11,14,2),o(12,13,2),o(12,13,2),o(13,12,3),o(13,11,3),o(10,14,2),o(10,14,2),o(12,12,2),o(12,12,2),o(10,13,3),o(13,10,3),o(7,14,3),o(10,12,3),o(12,10,2),o(12,10,2),o(12,9,3),o(7,13,3),o(5,14,2),o(5,14,2),o(11,13,1),o(11,13,1),o(11,13,1),o(11,13,1),o(9,14,1),o(9,14,1),o(11,12,2),o(12,11,2),o(8,14,2),o(14,8,2),o(9,13,2),o(14,7,2),o(11,11,2),o(8,13,2),o(13,8,2),o(6,14,2),o(14,6,1),o(9,12,1),o(10,11,2),o(11,10,2),o(14,5,2),o(13,7,2),o(4,14,1),o(4,14,1),o(14,4,2),o(8,12,2),o(12,8,1),o(3,14,1),o(6,13,1),o(6,13,1),o(13,6,2),o(9,11,2),o(11,9,2),o(10,10,2),o(14,1,1),o(14,1,1),o(13,4,1),o(13,4,1),o(11,8,2),o(10,9,2),o(7,11,1),o(7,11,1),o(11,7,2),o(13,0,2),o(0,14,1),o(14,0,1),o(5,13,1),o(13,5,1),o(7,12,1),o(12,7,1),o(4,13,1),o(8,11,1),o(9,10,1),o(6,12,1),o(12,6,1),o(3,13,1),o(5,12,1),o(12,5,1),o(8,10,1),o(10,8,1),o(9,9,1),o(4,12,1),o(11,6,1),o(7,10,1),o(5,11,1),o(8,9,1),o(9,8,1),o(7,9,1),o(9,7,1),o(8,8,1),o(14,12,1),o(13,13,1)],I=[i(16,4),i(32,4),i(48,4),o(15,15,4),i(64,4),i(80,4),i(96,4),i(112,4),i(128,4),i(144,4),i(160,3),i(168,2),o(1,1,4),o(0,1,4),o(1,0,4),o(0,0,4),o(14,15,4),o(15,14,4),o(13,15,4),o(15,13,4),o(12,15,4),o(15,12,4),o(11,15,4),o(15,11,4),o(15,10,3),o(15,10,3),o(10,15,4),o(9,15,4),o(15,9,3),o(15,9,3),o(15,8,3),o(15,8,3),o(8,15,4),o(7,15,4),o(15,7,3),o(15,7,3),o(6,15,3),o(6,15,3),o(15,6,3),o(15,6,3),o(5,15,3),o(5,15,3),o(15,5,3),o(15,5,3),o(4,15,3),o(4,15,3),o(15,4,3),o(15,4,3),o(3,15,3),o(3,15,3),o(15,3,3),o(15,3,3),o(2,15,3),o(2,15,3),o(15,2,3),o(15,2,3),o(15,1,3),o(15,1,3),o(1,15,4),o(15,0,4),i(172,3),i(180,3),i(188,3),i(196,3),i(204,4),i(220,3),i(228,3),i(236,3),i(244,2),i(248,2),i(252,2),i(256,2),i(260,2),i(264,2),i(268,2),i(272,2),i(276,2),i(280,3),i(288,2),i(292,2),i(296,2),i(300,3),i(308,2),i(312,3),i(320,1),i(322,2),i(326,2),i(330,1),i(332,2),i(336,1),i(338,1),i(340,1),i(342,1),i(344,1),i(346,1),i(348,1),i(350,1),i(352,1),i(354,1),i(356,1),i(358,1),i(360,1),i(362,1),i(364,1),i(366,1),i(368,1),i(370,2),i(374,1),i(376,2),o(7,3,4),i(380,1),o(7,2,4),o(4,6,4),o(6,4,4),o(5,5,4),o(7,1,4),o(3,6,4),o(6,3,4),o(4,5,4),o(5,4,4),o(2,6,4),o(6,2,4),o(1,6,4),o(6,1,4),i(382,1),o(3,5,4),o(5,3,4),o(4,4,4),o(2,5,4),o(5,2,4),o(1,5,4),i(384,1),o(5,1,3),o(5,1,3),o(3,4,4),o(4,3,4),o(2,4,3),o(2,4,3),o(4,2,3),o(4,2,3),o(3,3,3),o(3,3,3),o(1,4,3),o(1,4,3),o(4,1,3),o(4,1,3),o(0,4,4),o(4,0,4),o(2,3,3),o(2,3,3),o(3,2,3),o(3,2,3),o(1,3,2),o(1,3,2),o(1,3,2),o(1,3,2),o(3,1,2),o(3,1,2),o(3,1,2),o(3,1,2),o(0,3,3),o(3,0,3),o(2,2,2),o(2,2,2),o(1,2,1),o(1,2,1),o(1,2,1),o(1,2,1),o(2,1,1),o(2,1,1),o(0,2,2),o(2,0,2),o(0,15,1),o(0,15,1),o(0,15,1),o(0,15,1),o(14,14,3),o(13,14,3),o(14,13,3),o(12,14,3),o(14,12,3),o(13,13,3),o(11,14,3),o(14,11,3),o(12,13,3),o(13,12,3),o(10,14,3),o(14,10,3),o(11,13,3),o(13,11,3),o(12,12,3),o(9,14,3),o(14,9,3),o(10,13,3),o(13,10,3),o(11,12,3),o(12,11,3),o(8,14,3),o(14,8,3),o(9,13,3),o(13,9,3),o(7,14,3),o(14,7,3),o(10,12,3),o(12,10,3),o(12,10,3),o(11,11,3),o(11,11,3),o(8,13,3),o(8,13,3),o(13,8,3),o(13,8,3),o(0,14,4),o(14,0,4),o(0,13,3),o(0,13,3),o(14,6,2),o(14,6,2),o(14,6,2),o(14,6,2),o(6,14,3),o(9,12,3),o(12,9,2),o(12,9,2),o(5,14,2),o(5,14,2),o(11,10,2),o(11,10,2),o(14,5,2),o(14,5,2),o(10,11,3),o(7,13,3),o(13,7,2),o(13,7,2),o(14,4,2),o(14,4,2),o(8,12,2),o(8,12,2),o(12,8,2),o(12,8,2),o(4,14,3),o(2,14,3),o(3,14,2),o(3,14,2),o(6,13,2),o(13,6,2),o(14,3,2),o(9,11,2),o(11,9,2),o(10,10,2),o(14,2,2),o(1,14,2),o(14,1,2),o(5,13,2),o(13,5,2),o(7,12,2),o(12,7,2),o(4,13,2),o(8,11,2),o(11,8,2),o(13,4,2),o(9,10,2),o(10,9,2),o(6,12,2),o(12,6,2),o(3,13,2),o(13,3,2),o(2,13,2),o(13,2,2),o(1,13,2),o(7,11,2),o(11,7,2),o(13,1,2),o(5,12,2),o(12,5,2),o(8,10,2),o(10,8,2),o(9,9,2),o(4,12,2),o(12,4,2),o(6,11,2),o(6,11,2),o(11,6,2),o(11,6,2),o(13,0,3),o(0,12,3),o(3,12,2),o(3,12,2),o(12,3,2),o(7,10,2),o(10,7,2),o(2,12,2),o(12,2,2),o(5,11,2),o(11,5,2),o(1,12,2),o(8,9,2),o(9,8,2),o(12,1,2),o(4,11,2),o(12,0,3),o(0,11,3),o(3,11,2),o(3,11,2),o(11,0,3),o(0,10,3),o(1,10,2),o(1,10,2),o(11,4,1),o(11,4,1),o(6,10,2),o(10,6,2),o(7,9,2),o(7,9,2),o(9,7,2),o(9,7,2),o(10,0,3),o(0,9,3),o(9,0,2),o(9,0,2),o(11,3,1),o(8,8,1),o(2,11,2),o(5,10,2),o(11,2,1),o(11,2,1),o(10,5,2),o(1,11,2),o(11,1,2),o(6,9,2),o(9,6,1),o(10,4,1),o(4,10,2),o(7,8,2),o(8,7,1),o(8,7,1),o(3,10,1),o(10,3,1),o(5,9,1),o(9,5,1),o(2,10,1),o(10,2,1),o(10,1,1),o(6,8,1),o(8,6,1),o(7,7,1),o(4,9,1),o(9,4,1),o(3,9,1),o(9,3,1),o(5,8,1),o(8,5,1),o(2,9,1),o(6,7,1),o(7,6,1),o(9,2,1),o(1,9,1),o(9,1,1),o(4,8,1),o(8,4,1),o(5,7,1),o(7,5,1),o(3,8,1),o(8,3,1),o(6,6,1),o(2,8,1),o(8,2,1),o(1,8,1),o(4,7,1),o(7,4,1),o(8,1,1),o(8,1,1),o(0,8,2),o(8,0,2),o(5,6,1),o(6,5,1),o(1,7,1),o(1,7,1),o(0,7,2),o(7,0,2),o(3,7,1),o(2,7,1),o(0,6,1),o(6,0,1),o(0,5,1),o(5,0,1)];function S(t,e,r){this.table=t,this.linbits=e,this.startbits=r}r.huff_quad_table=[n,s],r.huff_pair_table=[new S(f,0,0),new S(h,0,3),new S(l,0,3),new S(u,0,3),null,new S(c,0,3),new S(d,0,4),new S(p,0,4),new S(m,0,4),new S(v,0,4),new S(y,0,4),new S(b,0,4),new S(g,0,4),new S(_,0,4),null,new S(w,0,4),new S(k,1,4),new S(k,2,4),new S(k,3,4),new S(k,4,4),new S(k,6,4),new S(k,8,4),new S(k,10,4),new S(k,13,4),new S(I,4,4),new S(I,5,4),new S(I,6,4),new S(I,7,4),new S(I,8,4),new S(I,9,4),new S(I,11,4),new S(I,13,4)]},{}],7:[function(t,e,r){var a=["latin1","utf16-bom","utf16-be","utf8"],n=i.Base.extend({constructor:function(t,e){this.header=t,this.stream=e,this.offset=0},read:function(){var t;if(!this.data)for(this.data={};t=this.readFrame();)t.key in this.data?(Array.isArray(this.data[t.key])||(this.data[t.key]=[this.data[t.key]]),this.data[t.key].push(t.value)):this.data[t.key]=t.value;return this.data},readFrame:function(){if(this.offset>=this.header.length)return null;var t=this.readHeader(),e=t.identifier;if(0===t.identifier.charCodeAt(0))return this.offset+=this.header.length+1,null;if(!this.frameTypes[e])for(var r in this.map)if(-1!==this.map[r].indexOf(e)){e=r;break}if(this.frameTypes[e]){var i=this.decodeFrame(t,this.frameTypes[e]),a=Object.keys(i);1===a.length&&(i=i[a[0]]);var n={value:i}}else n={value:this.stream.readBuffer(Math.min(t.length,this.header.length-this.offset))};return n.key=this.names[t.identifier]?this.names[t.identifier]:t.identifier,"coverArt"===n.key&&(n.value=n.value.data),this.offset+=10+t.length,n},decodeFrame:function(t,e){var r=this.stream,i=r.offset,n=0,s={},o=Object.keys(e).length,f=0;for(var h in e){var l=e[h],u=t.length-(r.offset-i);switch(f++,h){case"encoding":n=r.readUInt8();continue;case"language":s.language=r.readString(3);continue}switch(l){case"latin1":s[h]=r.readString(f===o?u:null,"latin1");break;case"string":s[h]=r.readString(f===o?u:null,a[n]);break;case"binary":s[h]=r.readBuffer(u);break;case"int16":s[h]=r.readInt16();break;case"int8":s[h]=r.readInt8();break;case"int24":s[h]=r.readInt24();break;case"int32":s[h]=r.readInt32();break;case"int32+":if(s[h]=r.readInt32(),u>4)throw new Error("Seriously dude? Stop playing this song and get a life!");break;case"date":var c=r.readString(8);s[h]=new Date(c.slice(0,4),c.slice(4,6)-1,c.slice(6,8));break;case"frame_id":s[h]=r.readString(4);break;default:throw new Error("Unknown key type "+l)}}return(u=t.length-(r.offset-i))>0&&r.advance(u),s}});r.ID3v23Stream=n.extend({readHeader:function(){var t=this.stream.readString(4),e=0;if(4===this.header.major)for(var r=0;r<4;r++)e=(e<<7)+(127&this.stream.readUInt8());else e=this.stream.readUInt32();return{identifier:t,length:e,flags:this.stream.readUInt16()}},map:{text:["TIT1","TIT2","TIT3","TALB","TOAL","TRCK","TPOS","TSST","TSRC","TPE1","TPE2","TPE3","TPE4","TOPE","TEXT","TOLY","TCOM","TMCL","TIPL","TENC","TBPM","TLEN","TKEY","TLAN","TCON","TFLT","TMED","TMOO","TCOP","TPRO","TPUB","TOWN","TRSN","TRSO","TOFN","TDLY","TDEN","TDOR","TDRC","TDRL","TDTG","TSSE","TSOA","TSOP","TSOT","TDAT","TIME","TORY","TRDA","TSIZ","TYER","TCMP","TSO2","TSOC"],url:["WCOM","WCOP","WOAF","WOAR","WOAS","WORS","WPAY","WPUB"]},frameTypes:{text:{encoding:1,value:"string"},url:{value:"latin1"},TXXX:{encoding:1,description:"string",value:"string"},WXXX:{encoding:1,description:"string",value:"latin1"},USLT:{encoding:1,language:1,description:"string",value:"string"},COMM:{encoding:1,language:1,description:"string",value:"string"},APIC:{encoding:1,mime:"latin1",type:"int8",description:"string",data:"binary"},UFID:{owner:"latin1",identifier:"binary"},MCDI:{value:"binary"},PRIV:{owner:"latin1",value:"binary"},GEOB:{encoding:1,mime:"latin1",filename:"string",description:"string",data:"binary"},PCNT:{value:"int32+"},POPM:{email:"latin1",rating:"int8",counter:"int32+"},AENC:{owner:"latin1",previewStart:"int16",previewLength:"int16",encryptionInfo:"binary"},ETCO:{format:"int8",data:"binary"},MLLT:{framesBetweenReference:"int16",bytesBetweenReference:"int24",millisecondsBetweenReference:"int24",bitsForBytesDeviation:"int8",bitsForMillisecondsDev:"int8",data:"binary"},SYTC:{format:"int8",tempoData:"binary"},SYLT:{encoding:1,language:1,format:"int8",contentType:"int8",description:"string",data:"binary"},RVA2:{identification:"latin1",data:"binary"},EQU2:{interpolationMethod:"int8",identification:"latin1",data:"binary"},RVRB:{left:"int16",right:"int16",bouncesLeft:"int8",bouncesRight:"int8",feedbackLL:"int8",feedbackLR:"int8",feedbackRR:"int8",feedbackRL:"int8",premixLR:"int8",premixRL:"int8"},RBUF:{size:"int24",flag:"int8",offset:"int32"},LINK:{identifier:"frame_id",url:"latin1",data:"binary"},POSS:{format:"int8",position:"binary"},USER:{encoding:1,language:1,value:"string"},OWNE:{encoding:1,price:"latin1",purchaseDate:"date",seller:"string"},COMR:{encoding:1,price:"latin1",validUntil:"date",contactURL:"latin1",receivedAs:"int8",seller:"string",description:"string",logoMime:"latin1",logo:"binary"},ENCR:{owner:"latin1",methodSymbol:"int8",data:"binary"},GRID:{owner:"latin1",groupSymbol:"int8",data:"binary"},SIGN:{groupSymbol:"int8",signature:"binary"},SEEK:{value:"int32"},ASPI:{dataStart:"int32",dataLength:"int32",numPoints:"int16",bitsPerPoint:"int8",data:"binary"},IPLS:{encoding:1,value:"string"},RVAD:{adjustment:"int8",bits:"int8",data:"binary"},EQUA:{adjustmentBits:"int8",data:"binary"}},names:{TIT1:"grouping",TIT2:"title",TIT3:"subtitle",TALB:"album",TOAL:"originalAlbumTitle",TRCK:"trackNumber",TPOS:"diskNumber",TSST:"setSubtitle",TSRC:"ISRC",TPE1:"artist",TPE2:"albumArtist",TPE3:"conductor",TPE4:"modifiedBy",TOPE:"originalArtist",TEXT:"lyricist",TOLY:"originalLyricist",TCOM:"composer",TMCL:"musicianCreditsList",TIPL:"involvedPeopleList",TENC:"encodedBy",TBPM:"tempo",TLEN:"length",TKEY:"initialKey",TLAN:"language",TCON:"genre",TFLT:"fileType",TMED:"mediaType",TMOO:"mood",TCOP:"copyright",TPRO:"producedNotice",TPUB:"publisher",TOWN:"fileOwner",TRSN:"internetRadioStationName",TRSO:"internetRadioStationOwner",TOFN:"originalFilename",TDLY:"playlistDelay",TDEN:"encodingTime",TDOR:"originalReleaseTime",TDRC:"recordingTime",TDRL:"releaseTime",TDTG:"taggingTime",TSSE:"encodedWith",TSOA:"albumSortOrder",TSOP:"performerSortOrder",TSOT:"titleSortOrder",TXXX:"userText",USLT:"lyrics",APIC:"coverArt",UFID:"uniqueIdentifier",MCDI:"CDIdentifier",COMM:"comments",WCOM:"commercialInformation",WCOP:"copyrightInformation",WOAF:"officialAudioFileWebpage",WOAR:"officialArtistWebpage",WOAS:"officialAudioSourceWebpage",WORS:"officialInternetRadioStationHomepage",WPAY:"payment",WPUB:"officialPublisherWebpage",WXXX:"url",PRIV:"private",GEOB:"generalEncapsulatedObject",PCNT:"playCount",POPM:"rating",AENC:"audioEncryption",ETCO:"eventTimingCodes",MLLT:"MPEGLocationLookupTable",SYTC:"synchronisedTempoCodes",SYLT:"synchronisedLyrics",RVA2:"volumeAdjustment",EQU2:"equalization",RVRB:"reverb",RBUF:"recommendedBufferSize",LINK:"link",POSS:"positionSynchronisation",USER:"termsOfUse",OWNE:"ownership",COMR:"commercial",ENCR:"encryption",GRID:"groupIdentifier",SIGN:"signature",SEEK:"seek",ASPI:"audioSeekPointIndex",TDAT:"date",TIME:"time",TORY:"originalReleaseYear",TRDA:"recordingDates",TSIZ:"size",TYER:"year",IPLS:"involvedPeopleList",RVAD:"volumeAdjustment",EQUA:"equalization",TCMP:"compilation",TSO2:"albumArtistSortOrder",TSOC:"composerSortOrder"}}),r.ID3v22Stream=r.ID3v23Stream.extend({readHeader:function(){var t=this.stream.readString(3);return this.frameReplacements[t]&&!this.frameTypes[t]&&(this.frameTypes[t]=this.frameReplacements[t]),{identifier:this.replacements[t]||t,length:this.stream.readUInt24()}},replacements:{UFI:"UFID",TT1:"TIT1",TT2:"TIT2",TT3:"TIT3",TP1:"TPE1",TP2:"TPE2",TP3:"TPE3",TP4:"TPE4",TCM:"TCOM",TXT:"TEXT",TLA:"TLAN",TCO:"TCON",TAL:"TALB",TPA:"TPOS",TRK:"TRCK",TRC:"TSRC",TYE:"TYER",TDA:"TDAT",TIM:"TIME",TRD:"TRDA",TMT:"TMED",TFT:"TFLT",TBP:"TBPM",TCR:"TCOP",TPB:"TPUB",TEN:"TENC",TSS:"TSSE",TOF:"TOFN",TLE:"TLEN",TSI:"TSIZ",TDY:"TDLY",TKE:"TKEY",TOT:"TOAL",TOA:"TOPE",TOL:"TOLY",TOR:"TORY",TXX:"TXXX",WAF:"WOAF",WAR:"WOAR",WAS:"WOAS",WCM:"WCOM",WCP:"WCOP",WPB:"WPUB",WXX:"WXXX",IPL:"IPLS",MCI:"MCDI",ETC:"ETCO",MLL:"MLLT",STC:"SYTC",ULT:"USLT",SLT:"SYLT",COM:"COMM",RVA:"RVAD",EQU:"EQUA",REV:"RVRB",GEO:"GEOB",CNT:"PCNT",POP:"POPM",BUF:"RBUF",CRA:"AENC",LNK:"LINK",TST:"TSOT",TSP:"TSOP",TSA:"TSOA",TCP:"TCMP",TS2:"TSO2",TSC:"TSOC"},frameReplacements:{PIC:{encoding:1,format:"int24",type:"int8",description:"string",data:"binary"},CRM:{owner:"latin1",description:"latin1",data:"binary"}}})},{}],8:[function(t,e,r){function i(){this.tmp_imdct36=new Float64Array(18),this.tmp_dctIV=new Float64Array(18),this.tmp_sdctII=new Float64Array(9)}i.prototype.imdct36=function(t,e){var r=this.tmp_imdct36;this.dctIV(t,r);for(var i=0;i<9;++i)e[i]=r[9+i];for(i=9;i<27;++i)e[i]=-r[36-(9+i)-1];for(i=27;i<36;++i)e[i]=-r[i-27]};var a=[];for(s=0;s<18;s++)a[s]=2*Math.cos(Math.PI*(2*s+1)/72);i.prototype.dctIV=function(t,e){for(var r=this.tmp_dctIV,i=0;i<18;++i)r[i]=t[i]*a[i];this.sdctII(r,e),e[0]/=2;for(i=1;i<18;++i)e[i]=e[i]/2-e[i-1]};for(var n=[],s=0;s<9;++s)n[s]=2*Math.cos(Math.PI*(2*s+1)/36);i.prototype.sdctII=function(t,e){for(var r=this.tmp_sdctII,i=0;i<9;++i)r[i]=t[i]+t[18-i-1];p(r,e,0);for(i=0;i<9;++i)r[i]=(t[i]-t[18-i-1])*n[i];p(r,e,1);for(i=3;i<18;i+=2)e[i]-=e[i-2]};var o=2*Math.cos(1*Math.PI/18),f=2*Math.cos(3*Math.PI/18),h=2*Math.cos(4*Math.PI/18),l=2*Math.cos(5*Math.PI/18),u=2*Math.cos(7*Math.PI/18),c=2*Math.cos(8*Math.PI/18),d=2*Math.cos(16*Math.PI/18);function p(t,e,r){var i,a,n,s,p,m,v,y,b,g,_,w,k,I,S,T,A,P,E,U,O,C,F,L,x;i=t[3]+t[5],a=t[3]-t[5],n=t[6]+t[2],s=t[6]-t[2],p=t[1]+t[7],m=t[1]-t[7],v=t[8]+t[0],y=t[8]-t[0],b=i+n+v,P=(a+s)*-l,E=(a-y)*-o,U=(s+y)*-u,O=(a-s+y)*-f,C=m*-f,F=(n-v)*-d,L=(i-v)*-c,x=(i-n)*-h,g=t[4]+p,w=(_=2*t[4]-p)+F,k=_-F,I=_+L,S=C+U,T=C-U,A=C+E,e[r+0]=g+b,e[r+2]=P-A,e[r+4]=x-w,e[r+6]=O,e[r+8]=k-L,e[r+10]=T-E,e[r+12]=b-2*g,e[r+14]=S+P,e[r+16]=I+x}i.S=[[.608761429,-.923879533,-.130526192,.991444861,-.382683432,-.79335334],[-.79335334,.382683432,.991444861,.130526192,-.923879533,-.608761429],[.382683432,-.923879533,.923879533,-.382683432,-.382683432,.923879533],[-.923879533,-.382683432,.382683432,.923879533,.923879533,.382683432],[.130526192,-.382683432,.608761429,-.79335334,.923879533,-.991444861],[-.991444861,-.923879533,-.79335334,-.608761429,-.382683432,-.130526192]],e.exports=i},{}],9:[function(t,e,r){var i=t("./tables"),a=t("./header"),n=t("./frame"),s=t("./utils");function o(){this.allocation=s.makeArray([2,32],Uint8Array),this.scalefactor=s.makeArray([2,32],Uint8Array)}n.layers[1]=o;var f=new Float32Array([1.33333333333333,1.14285714285714,1.06666666666667,1.03225806451613,1.01587301587302,1.00787401574803,1.00392156862745,1.00195694716243,1.00097751710655,1.00048851978505,1.0002442002442,1.00012208521548,1.00006103888177,1.00003051850948]);o.prototype.decode=function(t,e){var r=e.header,n=r.nchannels(),s=32;r.mode===a.MODE.JOINT_STEREO&&(r.flags|=a.FLAGS.I_STEREO,s=4+4*r.mode_extension),r.flags,a.FLAGS.PROTECTION;for(var o=this.allocation,f=0;f<s;f++)for(var h=0;h<n;h++){if(15===(c=t.read(4)))throw new Error("forbidden bit allocation value");o[h][f]=c?c+1:0}for(f=s;f<32;f++){if(15===(c=t.read(4)))throw new Error("forbidden bit allocation value");o[0][f]=o[1][f]=c?c+1:0}var l=this.scalefactor;for(f=0;f<32;f++)for(h=0;h<n;h++)o[h][f]&&(l[h][f]=t.read(6));for(var u=0;u<12;u++){for(f=0;f<s;f++)for(h=0;h<n;h++){var c=o[h][f];e.sbsample[h][u][f]=c?this.sample(t,c)*i.SF_TABLE[l[h][f]]:0}for(f=s;f<32;f++){if(c=o[0][f]){var d=this.sample(t,c);for(h=0;h<n;h++)e.sbsample[h][u][f]=d*i.SF_TABLE[l[h][f]]}else for(h=0;h<n;h++)e.sbsample[h][u][f]=0}}},o.prototype.sample=function(t,e){var r=t.read(e);return r^=1<<e-1,r|=-(r&1<<e-1),r/=1<<e-1,(r+=1>>e-1)*f[e-2]},e.exports=o},{"./frame":4,"./header":5,"./tables":14,"./utils":15}],10:[function(t,e,r){var i=t("./tables"),a=t("./header"),n=t("./frame"),s=t("./utils");function o(){this.samples=new Float64Array(3),this.allocation=s.makeArray([2,32],Uint8Array),this.scfsi=s.makeArray([2,32],Uint8Array),this.scalefactor=s.makeArray([2,32,3],Uint8Array)}n.layers[2]=o;var f=[{sblimit:27,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0]},{sblimit:30,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0]},{sblimit:8,offsets:[5,5,2,2,2,2,2,2]},{sblimit:12,offsets:[5,5,2,2,2,2,2,2,2,2,2,2]},{sblimit:30,offsets:[4,4,4,4,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}],h=[{nbal:2,offset:0},{nbal:2,offset:3},{nbal:3,offset:3},{nbal:3,offset:1},{nbal:4,offset:2},{nbal:4,offset:3},{nbal:4,offset:4},{nbal:4,offset:5}],l=[[0,1,16],[0,1,2,3,4,5,16],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,16],[0,2,4,5,6,7,8,9,10,11,12,13,14,15,16]],u=[{nlevels:3,group:2,bits:5,C:1.33333333333,D:.5},{nlevels:5,group:3,bits:7,C:1.6,D:.5},{nlevels:7,group:0,bits:3,C:1.14285714286,D:.25},{nlevels:9,group:4,bits:10,C:1.77777777777,D:.5},{nlevels:15,group:0,bits:4,C:1.06666666666,D:.125},{nlevels:31,group:0,bits:5,C:1.03225806452,D:.0625},{nlevels:63,group:0,bits:6,C:1.01587301587,D:.03125},{nlevels:127,group:0,bits:7,C:1.00787401575,D:.015625},{nlevels:255,group:0,bits:8,C:1.00392156863,D:.0078125},{nlevels:511,group:0,bits:9,C:1.00195694716,D:.00390625},{nlevels:1023,group:0,bits:10,C:1.00097751711,D:.001953125},{nlevels:2047,group:0,bits:11,C:1.00048851979,D:.0009765625},{nlevels:4095,group:0,bits:12,C:1.00024420024,D:.00048828125},{nlevels:8191,group:0,bits:13,C:1.00012208522,D:.00024414063},{nlevels:16383,group:0,bits:14,C:1.00006103888,D:.00012207031},{nlevels:32767,group:0,bits:15,C:1.00003051851,D:6103516e-11},{nlevels:65535,group:0,bits:16,C:1.00001525902,D:3051758e-11}];o.prototype.decode=function(t,e){var r,n=e.header,s=n.nchannels();if(n.flags&a.FLAGS.LSF_EXT)r=4;else if(n.flags&a.FLAGS.FREEFORMAT)r=48e3===n.samplerate?0:1;else{var o=n.bitrate;if(2===s)o/=2;else if(o>192e3)throw new Error("bad bitrate/mode combination");r=o<=48e3?32e3===n.samplerate?3:2:o<=8e4||48e3===n.samplerate?0:1}var c=f[r].sblimit,d=f[r].offsets,p=32;n.mode===a.MODE.JOINT_STEREO&&(n.flags|=a.FLAGS.I_STEREO,p=4+4*n.mode_extension),p>c&&(p=c);for(var m=this.allocation,v=0;v<p;v++)for(var y=h[d[v]].nbal,b=0;b<s;b++)m[b][v]=t.read(y);for(v=p;v<c;v++){y=h[d[v]].nbal;m[0][v]=m[1][v]=t.read(y)}var g=this.scfsi;for(v=0;v<c;v++)for(b=0;b<s;b++)m[b][v]&&(g[b][v]=t.read(2));n.flags,a.FLAGS.PROTECTION;var _=this.scalefactor;for(v=0;v<c;v++)for(b=0;b<s;b++)if(m[b][v]){switch(_[b][v][0]=t.read(6),g[b][v]){case 2:_[b][v][2]=_[b][v][1]=_[b][v][0];break;case 0:_[b][v][1]=t.read(6);case 1:case 3:_[b][v][2]=t.read(6)}1&g[b][v]&&(_[b][v][1]=_[b][v][g[b][v]-1])}for(var w=0;w<12;w++){for(v=0;v<p;v++)for(b=0;b<s;b++)if(r=m[b][v]){r=l[h[d[v]].offset][r-1],this.decodeSamples(t,u[r]);for(var k=i.SF_TABLE[_[b][v][w>>2]],I=0;I<3;I++)e.sbsample[b][3*w+I][v]=this.samples[I]*k}else for(I=0;I<3;I++)e.sbsample[b][3*w+I][v]=0;for(v=p;v<c;v++)if(r=m[0][v]){r=l[h[d[v]].offset][r-1],this.decodeSamples(t,u[r]);for(b=0;b<s;b++)for(k=i.SF_TABLE[_[b][v][w>>2]],I=0;I<3;I++)e.sbsample[b][3*w+I][v]=this.samples[I]*k}else for(b=0;b<s;b++)for(I=0;I<3;I++)e.sbsample[b][3*w+I][v]=0;for(b=0;b<s;b++)for(I=0;I<3;I++)for(v=c;v<32;v++)e.sbsample[b][3*w+I][v]=0}},o.prototype.decodeSamples=function(t,e){var r=this.samples,i=e.group;if(i)for(var a=t.read(e.bits),n=e.nlevels,s=0;s<3;s++)r[s]=a%n,a=a/n|0;else{i=e.bits;for(s=0;s<3;s++)r[s]=t.read(i)}for(s=0;s<3;s++){var o=r[s]^1<<i-1;o|=-(o&1<<i-1),o/=1<<i-1,r[s]=(o+e.D)*e.C}},e.exports=o},{"./frame":4,"./header":5,"./tables":14,"./utils":15}],11:[function(t,e,r){var a=t("./tables"),n=t("./header"),s=t("./frame"),o=t("./huffman"),h=t("./imdct"),l=t("./utils");function u(){this.main_data_begin=null,this.private_bits=null,this.gr=[new c,new c],this.scfsi=new Uint8Array(2)}function c(){this.ch=[new d,new d]}function d(){this.part2_3_length=null,this.big_values=null,this.global_gain=null,this.scalefac_compress=null,this.flags=null,this.block_type=null,this.table_select=new Uint8Array(3),this.subblock_gain=new Uint8Array(3),this.region0_count=null,this.region1_count=null,this.scalefac=new Uint8Array(39)}function p(){this.imdct=new h,this.si=new u,this.xr=[new Float64Array(576),new Float64Array(576)],this._exponents=new Int32Array(39),this.reqcache=new Float64Array(16),this.modes=new Int16Array(39),this.output=new Float64Array(36),this.tmp=l.makeArray([32,3,6]),this.tmp2=new Float64Array(576)}s.layers[3]=p,p.prototype.decode=function(t,e){var r=e.header,a=0,s=r.nchannels(),o=r.flags&n.FLAGS.LSF_EXT?1===s?9:17:1===s?17:32;if(t.next_frame-t.nextByte()<o)throw t.md_len=0,new Error("Bad frame length");r.flags,n.FLAGS.PROTECTION;var f=this.sideInfo(t,s,r.flags&n.FLAGS.LSF_EXT),h=f.si,l=(f.data_bitlen,f.priv_bitlen);r.flags|=l,r.private_bits|=h.private_bits;var u=t.copy();u.seek(8*t.next_frame);var c=u.read(16);65506==(65510&c)&&(0==(1&c)&&u.advance(16),u.advance(16),a=u.read(8&c?9:8));var d=t.next_frame-t.nextByte();a>h.main_data_begin+d&&(a=0);var p,m=h.main_data_begin+d-a,v=0;if(0===h.main_data_begin)p=t.stream,t.md_len=0,v=m;else{if(h.main_data_begin>t.md_len)throw new Error("bad main_data_begin pointer");var y=t.md_len;if(m>h.main_data_begin){if(t.md_len+m-h.main_data_begin>n.BUFFER_MDLEN)throw new Error("Assertion failed: (stream.md_len + md_len - si.main_data_begin <= MAD_MP3FrameHeader.BUFFER_MDLEN)");v=m-h.main_data_begin,this.memcpy(t.main_data,t.md_len,t.stream.stream,t.nextByte(),v),t.md_len+=v}(p=new i.Bitstream(i.Stream.fromBuffer(new i.Buffer(t.main_data)))).advance(8*(y-h.main_data_begin))}var b=d-v;if(this.decodeMainData(p,e,h,s),b>=a)this.memcpy(t.main_data,0,t.stream.stream,t.next_frame-a,a),t.md_len=a;else{if(m<h.main_data_begin){var g=h.main_data_begin-m;g+b>a&&(g=a-b),g<t.md_len&&(this.memcpy(t.main_data,0,t.main_data,t.md_len-g,g),t.md_len=g)}else t.md_len=0;this.memcpy(t.main_data,t.md_len,t.stream.stream,t.next_frame-b,b),t.md_len+=b}},p.prototype.memcpy=function(t,e,r,i,a){var n;return n=r.subarray?r.subarray(i,i+a):r.peekBuffer(i-r.offset,a).data,t.set(n,e),t},p.prototype.sideInfo=function(t,e,r){var i=this.si,n=0,s=r?1===e?1:2:1===e?5:3;i.main_data_begin=t.read(r?8:9),i.private_bits=t.read(s);var o=1;if(!r){o=2;for(var f=0;f<e;++f)i.scfsi[f]=t.read(4)}for(var h=0;h<o;h++){var l=i.gr[h];for(f=0;f<e;f++){var u=l.ch[f];if(u.part2_3_length=t.read(12),u.big_values=t.read(9),u.global_gain=t.read(8),u.scalefac_compress=t.read(r?9:4),n+=u.part2_3_length,u.big_values>288)throw new Error("bad big_values count");if(u.flags=0,t.read(1)){if(u.block_type=t.read(2),0===u.block_type)throw new Error("reserved block_type");if(!r&&2===u.block_type&&i.scfsi[f])throw new Error("bad scalefactor selection info");u.region0_count=7,u.region1_count=36,t.read(1)?u.flags|=a.MIXED_BLOCK_FLAG:2===u.block_type&&(u.region0_count=8);for(var c=0;c<2;c++)u.table_select[c]=t.read(5);for(c=0;c<3;c++)u.subblock_gain[c]=t.read(3)}else{u.block_type=0;for(c=0;c<3;c++)u.table_select[c]=t.read(5);u.region0_count=t.read(4),u.region1_count=t.read(3)}u.flags|=t.read(r?2:3)}}return{si:i,data_bitlen:n,priv_bitlen:s}},p.prototype.decodeMainData=function(t,e,r,i){var s=e.header,o=s.samplerate;s.flags&n.FLAGS.MPEG_2_5_EXT&&(o*=2);var f=(o>>7&15)+(o>>15&1)-8;s.flags&n.FLAGS.MPEG_2_5_EXT&&(f+=3);for(var h=s.flags&n.FLAGS.LSF_EXT?1:2,l=this.xr,u=0;u<h;++u){for(var c=r.gr[u],d=[],p=0,m=0;m<i;++m){var v,y=c.ch[m];d[m]=a.SFBWIDTH_TABLE[f].l,2===y.block_type&&(d[m]=y.flags&a.MIXED_BLOCK_FLAG?a.SFBWIDTH_TABLE[f].m:a.SFBWIDTH_TABLE[f].s),v=s.flags&n.FLAGS.LSF_EXT?this.scalefactors_lsf(t,y,0===m?0:r.gr[1].ch[1],s.mode_extension):this.scalefactors(t,y,r.gr[0].ch[m],0===u?0:r.scfsi[m]),this.huffmanDecode(t,l[m],y,d[m],v)}s.mode===n.MODE.JOINT_STEREO&&0!==s.mode_extension&&this.stereo(l,r.gr,u,s,d[0]);for(m=0;m<i;m++){y=c.ch[m];var b,g=e.sbsample[m].slice(18*u),_=(p=0,this.output);if(2===y.block_type?(this.reorder(l[m],y,d[m]),y.flags&a.MIXED_BLOCK_FLAG&&this.aliasreduce(l[m],36)):this.aliasreduce(l[m],576),2!==y.block_type||y.flags&a.MIXED_BLOCK_FLAG){var w=y.block_type;y.flags&a.MIXED_BLOCK_FLAG&&(w=0);for(var k=0;k<2;++k,p+=18)this.imdct_l(l[m].subarray(p,p+18),_,w),this.overlap(_,e.overlap[m][k],g,k)}else for(k=0;k<2;++k,p+=18)this.imdct_s(l[m].subarray(p,p+18),_),this.overlap(_,e.overlap[m][k],g,k);this.freqinver(g,1);for(var I=576;I>36&&0===l[m][I-1];)--I;if(b=32-((576-I)/18<<0),2!==y.block_type)for(k=2;k<b;++k,p+=18)this.imdct_l(l[m].subarray(p,p+18),_,y.block_type),this.overlap(_,e.overlap[m][k],g,k),1&k&&this.freqinver(g,k);else for(k=2;k<b;++k,p+=18)this.imdct_s(l[m].subarray(p,p+18),_),this.overlap(_,e.overlap[m][k],g,k),1&k&&this.freqinver(g,k);for(k=b;k<32;++k)this.overlap_z(e.overlap[m][k],g,k),1&k&&this.freqinver(g,k)}}},p.prototype.scalefactors=function(t,e,r,i){var n=t.offset(),s=a.SFLEN_TABLE[e.scalefac_compress].slen1,o=a.SFLEN_TABLE[e.scalefac_compress].slen2;if(2===e.block_type){h=0;for(var f=e.flags&a.MIXED_BLOCK_FLAG?17:18;f--;)e.scalefac[h++]=t.read(s);for(f=18;f--;)e.scalefac[h++]=t.read(o);for(f=3;f--;)e.scalefac[h++]=0}else{if(8&i)for(var h=0;h<6;++h)e.scalefac[h]=r.scalefac[h];else for(h=0;h<6;++h)e.scalefac[h]=t.read(s);if(4&i)for(h=6;h<11;++h)e.scalefac[h]=r.scalefac[h];else for(h=6;h<11;++h)e.scalefac[h]=t.read(s);if(2&i)for(h=11;h<16;++h)e.scalefac[h]=r.scalefac[h];else for(h=11;h<16;++h)e.scalefac[h]=t.read(o);if(1&i)for(h=16;h<21;++h)e.scalefac[h]=r.scalefac[h];else for(h=16;h<21;++h)e.scalefac[h]=t.read(o);e.scalefac[21]=0}return t.offset()-n},p.prototype.scalefactors_lsf=function(t,e,r,i){var n,s=t.offset(),o=e.scalefac_compress,f=2===e.block_type?e.flags&a.MIXED_BLOCK_FLAG?2:1:0,h=new Int32Array(4);if(i&a.I_STEREO&&r){(o>>>=1)<180?(h[0]=o/36,h[1]=o%36/6,h[2]=o%36%6,h[3]=0,n=a.NSFB_TABLE[3][f]):o<244?(o-=180,h[0]=o%64>>>4,h[1]=o%16>>>2,h[2]=o%4,h[3]=0,n=a.NSFB_TABLE[4][f]):(o-=244,h[0]=o/3,h[1]=o%3,h[2]=0,h[3]=0,n=a.NSFB_TABLE[5][f]);for(c=0,d=0;d<4;++d){var l=(1<<h[d])-1;for(p=0;p<n[d];++p){var u=t.read(h[d]);e.scalefac[c]=u,r.scalefac[c++]=u===l?1:0}}for(;c<39;)e.scalefac[c]=0,r.scalefac[c++]=0}else{o<400?(h[0]=(o>>>4)/5,h[1]=(o>>>4)%5,h[2]=o%16>>>2,h[3]=o%4,n=a.NSFB_TABLE[0][f]):o<500?(o-=400,h[0]=(o>>>2)/5,h[1]=(o>>>2)%5,h[2]=o%4,h[3]=0,n=a.NSFB_TABLE[1][f]):(o-=500,h[0]=o/3,h[1]=o%3,h[2]=0,h[3]=0,e.flags|=a.PREFLAG,n=a.NSFB_TABLE[2][f]);for(var c=0,d=0;d<4;d++)for(var p=0;p<n[d];p++)e.scalefac[c++]=t.read(h[d]);for(;c<39;)e.scalefac[c++]=0}return t.offset()-s},p.prototype.huffmanDecode=function(t,e,r,i,s){var f=this._exponents,h=0,l=r.part2_3_length-s;if(l<0)throw new Error("bad audio data length");this.exponents(r,i,f);var u=t.copy();t.advance(l);var c=8-u.bitPosition;c+=24-c+7&-8;var d=u.read(c);l-=c;var p=0,m=0,v=this.reqcache,y=p+i[h++],b=r.region0_count+1,g=o.huff_pair_table[r.table_select[m]],_=g.table,w=g.linbits,k=g.startbits;if(void 0===_)throw new Error("bad Huffman table select");for(var I=0,S=f[I++],T=0,A=r.big_values;A--&&c+l>0;){if(p===y){if(y+=i[h++],0==--b&&(b=0===m?r.region1_count+1:0,_=(g=o.huff_pair_table[r.table_select[++m]]).table,w=g.linbits,k=g.startbits,void 0===_))throw new Error("bad Huffman table select");S!==f[I]&&(S=f[I],T=0),++I}if(c<21){var P=21-c+10&-8;d=d<<P|u.read(P),c+=P,l-=P}for(var E=k,U=_[d>>c-E&(1<<E)-1];!U.final;)c-=E,E=U.ptr.bits,U=_[U.ptr.offset+(d>>c-E&(1<<E)-1)];if(c-=U.value.hlen,w){var O=!1;switch(F=U.value.x){case 0:e[p]=0;break;case 15:c<w+2&&(d=d<<16|u.read(16),c+=16,l-=16),F+=d>>c-w&(1<<w)-1,c-=w,L=this.requantize(F,S),O=!0;break;default:T&1<<F?L=v[F]:(T|=1<<F,L=v[F]=this.requantize(F,S)),O=!0}O&&(e[p]=d&1<<c---1?-L:L);var C=!1;switch(F=U.value.y){case 0:e[p+1]=0;break;case 15:c<w+1&&(d=d<<16|u.read(16),c+=16,l-=16),F+=d>>c-w&(1<<w)-1,c-=w,L=this.requantize(F,S),C=!0;break;default:T&1<<F||(T|=1<<F,v[F]=this.requantize(F,S)),L=v[F],C=!0}C&&(e[p+1]=d&1<<c---1?-L:L)}else{var F;0===(F=U.value.x)?e[p]=0:(T&1<<F?L=v[F]:(T|=1<<F,L=v[F]=this.requantize(F,S)),e[p]=d&1<<c---1?-L:L),0===(F=U.value.y)?e[p+1]=0:(T&1<<F?L=v[F]:(T|=1<<F,L=v[F]=this.requantize(F,S)),e[p+1]=d&1<<c---1?-L:L)}p+=2}if(c+l<0)throw new Error("Huffman data overrun");_=o.huff_quad_table[r.flags&a.COUNT1TABLE_SELECT];for(var L=this.requantize(1,S);c+l>0&&p<=572;){c<10&&(d=d<<16|u.read(16),c+=16,l-=16);var x=_[d>>c-4&15];x.final||(c-=4,x=_[x.ptr.offset+(d>>c-x.ptr.bits&(1<<x.ptr.bits)-1)]),c-=x.value.hlen,p===y&&(y+=i[h++],S!==f[I]&&(S=f[I],L=this.requantize(1,S)),++I),e[p]=x.value.v?d&1<<c---1?-L:L:0,e[p+1]=x.value.w?d&1<<c---1?-L:L:0,(p+=2)===y&&(y+=i[h++],S!==f[I]&&(S=f[I],L=this.requantize(1,S)),++I),e[p]=x.value.x?d&1<<c---1?-L:L:0,e[p+1]=x.value.y?d&1<<c---1?-L:L:0,p+=2,c+l<0&&(p-=4)}if(-l>8*n.BUFFER_GUARD)throw new Error("assertion failed: (-bits_left <= MP3FrameHeader.BUFFER_GUARD * CHAR_BIT)");for(;p<576;)e[p]=0,e[p+1]=0,p+=2},p.prototype.requantize=function(t,e){var r=e%4>>0;e=e/4>>0;var i=Math.pow(t,4/3);return i*=Math.pow(2,e/4),r&&(i*=Math.pow(2,r/4)),e<0&&(i/=Math.pow(2,3/4*-e)),i},p.prototype.exponents=function(t,e,r){var i=t.global_gain-210,n=t.flags&a.SCALEFAC_SCALE?2:1;if(2===t.block_type){var s=0,o=0;if(t.flags&a.MIXED_BLOCK_FLAG)for(var f=t.flags&a.PREFLAG?-1:0;o<36;)r[s]=i-(t.scalefac[s]+(a.PRETAB[s]&f)<<n),o+=e[s++];for(var h=i-8*t.subblock_gain[0],l=i-8*t.subblock_gain[1],u=i-8*t.subblock_gain[2];o<576;)r[s+0]=h-(t.scalefac[s+0]<<n),r[s+1]=l-(t.scalefac[s+1]<<n),r[s+2]=u-(t.scalefac[s+2]<<n),o+=3*e[s],s+=3}else if(t.flags&a.PREFLAG)for(s=0;s<22;s++)r[s]=i-(t.scalefac[s]+a.PRETAB[s]<<n);else for(s=0;s<22;s++)r[s]=i-(t.scalefac[s]<<n)},p.prototype.stereo=function(t,e,r,i,s){var o,f,h,l=e[r],u=this.modes;if(l.ch[0].block_type!==l.ch[1].block_type||(l.ch[0].flags&a.MIXED_BLOCK_FLAG)!=(l.ch[1].flags&a.MIXED_BLOCK_FLAG))throw new Error("incompatible stereo block_type");for(var c=0;c<39;c++)u[c]=i.mode_extension;if(i.mode_extension&a.I_STEREO){var d=l.ch[1],p=t[1];if(i.flags|=n.FLAGS.tables.I_STEREO,2===d.block_type){var m,v,y;if(m=v=y=(g=new Uint32Array(3))[0]=g[1]=g[2]=0,o=f=0,d.flags&a.MIXED_BLOCK_FLAG){for(;f<36;){h=s[o++];for(c=0;c<h;++c)if(p[c]){m=o;break}p+=h,f+=h}v=o}for(var b=0;f<576;){for(h=s[o++],c=0;c<h;++c)if(p[c]){y=g[b]=o;break}p+=h,f+=h,b=(b+1)%3}for(y&&(m=v),c=0;c<m;++c)u[c]=i.mode_extension&~a.I_STEREO;for(b=0,c=v;c<y;++c)c<g[b]&&(u[c]=i.mode_extension&~a.I_STEREO),b=(b+1)%3}else{var g=0;for(o=f=0;f<576;f+=h){for(h=s[o++],c=0;c<h;++c)if(p[c]){g=o;break}p+=h}for(c=0;c<g;++c)u[c]=i.mode_extension&~a.I_STEREO}if(i.flags&n.FLAGS.LSF_EXT){var _=e[r+1].ch[1].scalefac,w=IS_Ltables.SF_TABLE[1&d.scalefac_compress];for(o=f=0;f<576;++o,f+=h)if(h=s[o],u[o]&a.I_STEREO)if(_[o])u[o]&=~a.I_STEREO;else for(is_pos=d.scalefac[o],c=0;c<h;++c){var k=t[0][f+c];if(0===is_pos)t[1][f+c]=k;else{var I=k*w[(is_pos-1)/2];1&is_pos?(t[0][f+c]=I,t[1][f+c]=k):t[1][f+c]=I}}}else for(o=f=0;f<576;++o,f+=h)if(h=s[o],u[o]&a.I_STEREO)if(is_pos=d.scalefac[o],is_pos>=7)u[o]&=~a.I_STEREO;else for(c=0;c<h;++c){k=t[0][f+c];t[0][f+c]=k*a.IS_TABLE[is_pos],t[1][f+c]=k*a.IS_TABLE[6-is_pos]}}if(i.mode_extension&a.MS_STEREO){i.flags|=a.MS_STEREO;var S=a.ROOT_TABLE[1];for(o=f=0;f<576;++o,f+=h)if(h=s[o],u[o]===a.MS_STEREO)for(c=0;c<h;++c){var T=t[0][f+c],A=t[1][f+c];t[0][f+c]=(T+A)*S,t[1][f+c]=(T-A)*S}}},p.prototype.aliasreduce=function(t,e){for(var r=18;r<e;r+=18)for(var i=0;i<8;++i){var n=t[r-i-1],s=t[r+i];t[r-i-1]=n*a.CS[i]-s*a.CA[i],t[r+i]=s*a.CS[i]+n*a.CA[i]}},p.prototype.imdct_l=function(t,e,r){switch(this.imdct.imdct36(t,e),r){case 0:for(var i=0;i<36;++i)e[i]=e[i]*a.WINDOW_L[i];break;case 1:for(i=0;i<18;++i)e[i]=e[i]*a.WINDOW_L[i];for(i=24;i<30;++i)e[i]=e[i]*a.WINDOW_S[i-18];for(i=30;i<36;++i)e[i]=0;break;case 3:for(i=0;i<6;++i)e[i]=0;for(i=6;i<12;++i)e[i]=e[i]*a.WINDOW_S[i-6];for(i=18;i<36;++i)e[i]=e[i]*a.WINDOW_L[i]}},p.prototype.imdct_s=function(t,e){for(var r,i=0,n=0,s=new Float64Array(36),o=0;o<3;++o){for(var f=0,l=0;l<3;++l)r=t[n+0]*h.S[f][0]+t[n+1]*h.S[f][1]+t[n+2]*h.S[f][2]+t[n+3]*h.S[f][3]+t[n+4]*h.S[f][4]+t[n+5]*h.S[f][5],s[i+l+0]=r,s[i+5-l]=-s[i+l+0],++f,r=t[n+0]*h.S[f][0]+t[n+1]*h.S[f][1]+t[n+2]*h.S[f][2]+t[n+3]*h.S[f][3]+t[n+4]*h.S[f][4]+t[n+5]*h.S[f][5],s[i+l+6]=r,s[i+11-l]=s[i+l+6],++f;i+=12,n+=6}i=0;var u=0;for(l=0;l<6;++l)e[l+0]=0,e[l+6]=s[i+0+0]*a.WINDOW_S[u+0],r=s[i+0+6]*a.WINDOW_S[u+6]+s[i+12+0]*a.WINDOW_S[u+0],e[l+12]=r,r=s[i+12+6]*a.WINDOW_S[u+6]+s[i+24+0]*a.WINDOW_S[u+0],e[l+18]=r,e[l+24]=s[i+24+6]*a.WINDOW_S[u+6],e[l+30]=0,++i,++u},p.prototype.overlap=function(t,e,r,i){for(var a=0;a<18;++a)r[a][i]=t[a]+e[a],e[a]=t[a+18]},p.prototype.freqinver=function(t,e){for(var r=1;r<18;r+=2)t[r][e]=-t[r][e]},p.prototype.overlap_z=function(t,e,r){for(var i=0;i<18;++i)e[i][r]=t[i],t[i]=0},p.prototype.reorder=function(t,e,r){var i=0,n=this.tmp,s=new Uint32Array(3),o=new Uint32Array(3),h=0;if(e.flags&a.MIXED_BLOCK_FLAG){h=2;for(var l=0;l<36;)l+=r[i++]}for(var u=0;u<3;++u)s[u]=h,o[u]=0;f=r[i++],u=0;for(l=18*h;l<576;++l)0==f--&&(f=r[i++]-1,u=(u+1)%3),n[s[u]][u][o[u]++]=t[l],6===o[u]&&(o[u]=0,++s[u]);for(var c=this.tmp2,d=0,p=0;p<32;p++)for(var m=0;m<3;m++)for(var v=0;v<6;v++)c[d++]=n[p][m][v];var y=576-18*h;for(p=0;p<y;p++)t[18*h+p]=c[h+p]},e.exports=p},{"./frame":4,"./header":5,"./huffman":6,"./imdct":8,"./tables":14,"./utils":15}],12:[function(t,e,r){var i=t("./header");function a(t){for(var e in this.stream=t,this.sync=!1,this.freerate=0,this.this_frame=t.stream.offset,this.next_frame=t.stream.offset,this.main_data=new Uint8Array(i.BUFFER_MDLEN),this.md_len=0,t)"function"==typeof t[e]&&(this[e]=t[e].bind(t))}a.prototype.getU8=function(t){var e=this.stream.stream;return e.peekUInt8(t-e.offset)},a.prototype.nextByte=function(){var t=this.stream;return 0===t.bitPosition?t.stream.offset:t.stream.offset+1},a.prototype.doSync=function(){var t=this.stream.stream;for(this.align();this.available(16)&&(255!==t.peekUInt8(0)||224!=(224&t.peekUInt8(1)));)this.advance(8);return!!this.available(i.BUFFER_GUARD)},a.prototype.reset=function(t){this.seek(8*t),this.next_frame=t,this.sync=!0},e.exports=a},{"./header":5}],13:[function(t,e,r){var i=t("./utils");function a(){this.filter=i.makeArray([2,2,2,16,8]),this.phase=0,this.pcm={samplerate:0,channels:0,length:0,samples:[new Float64Array(1152),new Float64Array(1152)]}}var n=.923879533,s=.707106781,o=.382683432;a.dct32=function(t,e,r,i){var a,f,h,l,u,c,d,p,m,v,y,b,g,_,w,k,I,S,T,A,P,E,U,O,C,F,L,x,R,B,D,M,N,W,z,G,X,H,q,K,Y,j,V,J,Q,Z,$,tt,et,rt,it,at,nt,st,ot,ft,ht,lt,ut,ct,dt,pt,mt,vt,yt,bt,gt,_t,wt,kt,It,St,Tt,At,Pt,Et,Ut,Ot,Ct,Ft,Lt,xt,Rt,Bt,Dt,Mt,Nt,Wt,zt,Gt,Xt,Ht,qt,Kt,Yt,jt,Vt,Jt,Qt,Zt,$t,te,ee,re,ie,ae,ne,se,oe,fe,he,le,ue,ce,de,pe,me,ve,ye,be,ge,_e,we,ke,Ie,Se,Te,Ae,Pe,Ee,Ue,Oe,Ce,Fe,Le,xe,Re,Be,De,Me,Ne,We,ze,Ge,Xe,He,qe,Ke,Ye,je,Ve,Je,Qe,Ze,$e,tr,er,rr,ir,ar,nr,sr,or,fr,hr,lr,ur,cr,dr,pr,mr,vr,yr,br,gr,_r,wr;a=t[0]+t[31],I=.998795456*(t[0]-t[31]),f=t[15]+t[16],j=I+(S=.049067674*(t[15]-t[16])),ct=.995184727*(I-S),W=a+f,it=.995184727*(a-f),h=t[7]+t[24],T=.740951125*(t[7]-t[24]),l=t[8]+t[23],V=T+(A=.671558955*(t[8]-t[23])),dt=.09801714*(T-A),z=h+l,at=.09801714*(h-l),u=t[3]+t[28],P=.941544065*(t[3]-t[28]),c=t[12]+t[19],J=P+(E=.336889853*(t[12]-t[19])),pt=.773010453*(P-E),G=u+c,nt=.773010453*(u-c),d=t[4]+t[27],U=.903989293*(t[4]-t[27]),p=t[11]+t[20],Q=U+(O=.427555093*(t[11]-t[20])),mt=.634393284*(U-O),X=d+p,st=.634393284*(d-p),m=t[1]+t[30],C=.98917651*(t[1]-t[30]),v=t[14]+t[17],Z=C+(F=.146730474*(t[14]-t[17])),vt=.956940336*(C-F),H=m+v,ot=.956940336*(m-v),y=t[6]+t[25],L=.803207531*(t[6]-t[25]),b=t[9]+t[22],$=L+(x=.595699304*(t[9]-t[22])),yt=.290284677*(L-x),q=y+b,ft=.290284677*(y-b),g=t[2]+t[29],R=.970031253*(t[2]-t[29]),_=t[13]+t[18],tt=R+(B=.24298018*(t[13]-t[18])),bt=.881921264*(R-B),K=g+_,ht=.881921264*(g-_),w=t[5]+t[26],D=.85772861*(t[5]-t[26]),Gt=.98078528*(W-z),Xt=.195090322*(G-X),Ht=.831469612*(H-q),qt=.555570233*(K-(Y=w+(k=t[10]+t[21]))),At=j+V,Yt=.98078528*(j-V),Pt=J+Q,jt=.195090322*(J-Q),Et=Z+$,Vt=.831469612*(Z-$),Ut=tt+(et=D+(M=.514102744*(t[10]-t[21]))),Jt=.555570233*(tt-et),Ct=it+at,$t=.98078528*(it-at),Ft=nt+st,te=.195090322*(nt-st),Lt=ot+ft,ee=.831469612*(ot-ft),xt=ht+(lt=.471396737*(w-k)),re=.555570233*(ht-lt),Bt=ct+dt,ne=.98078528*(ct-dt),Dt=pt+mt,se=.195090322*(pt-mt),Mt=vt+yt,oe=.831469612*(vt-yt),Nt=bt+(gt=.471396737*(D-M)),fe=.555570233*(bt-gt),ce=(kt=W+z)+(It=G+X),de=(St=H+q)+(Tt=K+Y),i[15][e]=ce+de,r[0][e]=(ce-de)*s,N=(pe=At+Pt)+(me=Et+Ut),i[14][e]=N,ut=(ye=Ct+Ft)+(be=Lt+xt),i[13][e]=ut,rt=2*(_t=(_e=Bt+Dt)+(we=Mt+Nt))-N,i[12][e]=rt,Kt=(Se=Gt+Xt)+(Te=Ht+qt),i[11][e]=Kt,wt=2*(Qt=(Pe=Yt+jt)+(Ee=Vt+Jt))-rt,i[10][e]=wt,Rt=2*(ie=(Ce=$t+te)+(Fe=ee+re))-ut,i[9][e]=Rt,Ot=2*(Wt=2*(he=(Re=ne+se)+(Be=oe+fe))-_t)-wt,i[8][e]=Ot,Ge=(We=(kt-It)*n)+(ze=(St-Tt)*o),i[7][e]=Ge,r[8][e]=(We-ze)*s*2-Ge,zt=2*(qe=(Xe=(At-Pt)*n)+(He=(Et-Ut)*o))-Ot,i[6][e]=zt,ae=2*(Ve=(Ye=(Ct-Ft)*n)+(je=(Lt-xt)*o))-Rt,i[5][e]=ae,Zt=2*(le=2*($e=(Qe=(Bt-Dt)*n)+(Ze=(Mt-Nt)*o))-Wt)-zt,i[4][e]=Zt,Ae=2*(ar=(rr=(Gt-Xt)*n)+(ir=(Ht-qt)*o))-Kt,i[3][e]=Ae,nr=(Se-Te)*s*2-Ae,r[4][e]=nr,r[12][e]=2*((rr-ir)*s*2-ar)-nr,ue=2*(Ue=2*(fr=(sr=(Yt-jt)*n)+(or=(Vt-Jt)*o))-Qt)-Zt,i[2][e]=ue,hr=(Pe-Ee)*s*2-Ue,ge=2*(Le=2*(dr=(ur=($t-te)*n)+(cr=(ee-re)*o))-ie)-ae,i[1][e]=ge,xe=(ye-be)*s*2-ge,r[2][e]=xe,Je=2*(pr=(Ce-Fe)*s*2-Le)-xe,r[6][e]=Je,mr=2*((Ye-je)*s*2-Ve)-Je,r[10][e]=mr,r[14][e]=2*(2*((ur-cr)*s*2-dr)-pr)-mr,Me=(_e-we)*s*2-(ke=2*(De=2*(br=(vr=(ne-se)*n)+(yr=(oe-fe)*o))-he)-le),ve=2*ke-ue,i[0][e]=ve,Ie=(pe-me)*s*2-ve,r[1][e]=Ie,Oe=2*Me-Ie,r[3][e]=Oe,Ne=2*hr-Oe,r[5][e]=Ne,Ke=2*(tr=2*(gr=(Re-Be)*s*2-De)-Me)-Ne,r[7][e]=Ke,er=2*((Xe-He)*s*2-qe)-Ke,r[9][e]=er,lr=2*(_r=2*((Qe-Ze)*s*2-$e)-tr)-er,r[11][e]=lr,wr=2*(2*((sr-or)*s*2-fr)-hr)-lr,r[13][e]=wr,r[15][e]=2*(2*(2*((vr-yr)*s*2-br)-gr)-_r)-wr};var f=[[0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9,0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9],[-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9,-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9],[-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9,-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9],[-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9,-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9],[-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9,-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9],[-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9,-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9],[-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9,-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9],[-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9,-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9],[-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9,-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9],[-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9,-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9],[-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9,-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9],[-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9,-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9],[-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8,-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8],[-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9,-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9],[-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9,-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9],[-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9,-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9],[-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9,-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9]];a.prototype.full=function(t,e,r){for(var i,n,s,o=0;o<e;++o)for(var h=t.sbsample[o],l=this.filter[o],u=this.phase,c=this.pcm.samples[o],d=0,p=0,m=0;m<r;++m){a.dct32(h[m],u>>1,l[0][1&u],l[1][1&u]);var v=-2&u,y=u-1&15|1,b=l[0][1&u],g=l[0][1&~u],_=l[1][1&~u],w=0,k=0;s=f[i=0],_fx=g[0],_fe=b[w],n=_fx[0]*s[y+0],n+=_fx[1]*s[y+14],n+=_fx[2]*s[y+12],n+=_fx[3]*s[y+10],n+=_fx[4]*s[y+8],n+=_fx[5]*s[y+6],n+=_fx[6]*s[y+4],n=-(n+=_fx[7]*s[y+2]),n+=_fe[0]*s[v+0],n+=_fe[1]*s[v+14],n+=_fe[2]*s[v+12],n+=_fe[3]*s[v+10],n+=_fe[4]*s[v+8],n+=_fe[5]*s[v+6],n+=_fe[6]*s[v+4],n+=_fe[7]*s[v+2],c[d++]=n,p=d+30;for(var I=1;I<16;++I)++w,++i,s=f[i],_fo=_[k],_fe=b[w],n=_fo[0]*s[y+0],n+=_fo[1]*s[y+14],n+=_fo[2]*s[y+12],n+=_fo[3]*s[y+10],n+=_fo[4]*s[y+8],n+=_fo[5]*s[y+6],n+=_fo[6]*s[y+4],n=-(n+=_fo[7]*s[y+2]),n+=_fe[7]*s[v+2],n+=_fe[6]*s[v+4],n+=_fe[5]*s[v+6],n+=_fe[4]*s[v+8],n+=_fe[3]*s[v+10],n+=_fe[2]*s[v+12],n+=_fe[1]*s[v+14],n+=_fe[0]*s[v+0],c[d++]=n,n=_fe[0]*s[31-v-16],n+=_fe[1]*s[31-v-14],n+=_fe[2]*s[31-v-12],n+=_fe[3]*s[31-v-10],n+=_fe[4]*s[31-v-8],n+=_fe[5]*s[31-v-6],n+=_fe[6]*s[31-v-4],n+=_fe[7]*s[31-v-2],n+=_fo[7]*s[31-y-2],n+=_fo[6]*s[31-y-4],n+=_fo[5]*s[31-y-6],n+=_fo[4]*s[31-y-8],n+=_fo[3]*s[31-y-10],n+=_fo[2]*s[31-y-12],n+=_fo[1]*s[31-y-14],n+=_fo[0]*s[31-y-16],c[p--]=n,++k;++i,s=f[i],_fo=_[k],n=_fo[0]*s[y+0],n+=_fo[1]*s[y+14],n+=_fo[2]*s[y+12],n+=_fo[3]*s[y+10],n+=_fo[4]*s[y+8],n+=_fo[5]*s[y+6],n+=_fo[6]*s[y+4],n+=_fo[7]*s[y+2],c[d]=-n,d+=16,u=(u+1)%16}},a.prototype.frame=function(t){var e=t.header.nchannels(),r=t.header.nbsamples();this.pcm.samplerate=t.header.samplerate,this.pcm.channels=e,this.pcm.length=32*r,this.full(t,e,r),this.phase=(this.phase+r)%16},e.exports=a},{"./utils":15}],14:[function(t,e,r){r.SF_TABLE=new Float32Array([2,1.587401051968,1.259921049895,1,.793700525984,.629960524947,.5,.396850262992,.314980262474,.25,.198425131496,.157490131237,.125,.099212565748,.078745065618,.0625,.049606282874,.039372532809,.03125,.024803141437,.019686266405,.015625,.012401570719,.009843133202,.0078125,.006200785359,.004921566601,.00390625,.00310039268,.002460783301,.001953125,.00155019634,.00123039165,.0009765625,.00077509817,.000615195825,.00048828125,.000387549085,.000307597913,.000244140625,.000193774542,.000153798956,.000122070313,96887271e-12,76899478e-12,61035156e-12,48443636e-12,38449739e-12,30517578e-12,24221818e-12,1922487e-11,15258789e-12,12110909e-12,9612435e-12,7629395e-12,6055454e-12,4806217e-12,3814697e-12,3027727e-12,2403109e-12,1907349e-12,1513864e-12,1201554e-12,0]);var i=new Uint8Array([4,4,4,4,4,4,6,6,6,8,10,12,16,18,22,28,34,40,46,54,54,192]),a=new Uint8Array([4,4,4,4,4,4,6,6,8,8,10,12,16,20,24,28,34,42,50,54,76,158]),n=new Uint8Array([4,4,4,4,4,4,6,6,8,10,12,16,20,24,30,38,46,56,68,84,102,26]),s=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),o=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),f=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),h=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),l=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),u=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),c=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,18,22,26,32,38,46,54,62,70,76,36]),d=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,20,24,28,32,38,46,52,60,68,58,54]),p=d,m=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),v=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),y=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),b=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),g=new Uint8Array([6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),_=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),w=p,k=w,I=new Uint8Array([12,12,12,12,12,12,16,20,24,28,32,40,48,56,64,76,90,2,2,2,2,2]),S=y,T=S,A=new Uint8Array([8,8,8,8,8,8,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]),P=_,E=P,U=new Uint8Array([12,12,12,4,4,4,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]);r.SFBWIDTH_TABLE=[{l:i,s:s,m:h},{l:a,s:o,m:l},{l:n,s:f,m:u},{l:c,s:m,m:b},{l:d,s:v,m:g},{l:p,s:y,m:_},{l:w,s:S,m:P},{l:k,s:T,m:E},{l:I,s:A,m:U}],r.PRETAB=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0]),r.ROOT_TABLE=new Float32Array([.59460355750136,.70710678118655,.84089641525371,1,1.18920711500272,1.4142135623731,1.68179283050743]),r.CS=new Float32Array([.857492926,.881741997,.949628649,.983314592,.995517816,.999160558,.999899195,.999993155]),r.CA=new Float32Array([-.514495755,-.471731969,-.313377454,-.1819132,-.094574193,-.040965583,-.014198569,-.003699975]),r.COUNT1TABLE_SELECT=1,r.SCALEFAC_SCALE=2,r.PREFLAG=4,r.MIXED_BLOCK_FLAG=8,r.I_STEREO=1,r.MS_STEREO=2,r.WINDOW_L=new Float32Array([.043619387,.130526192,.216439614,.3007058,.382683432,.461748613,.537299608,.608761429,.675590208,.737277337,.79335334,.843391446,.887010833,.923879533,.953716951,.976296007,.991444861,.999048222,.999048222,.991444861,.976296007,.953716951,.923879533,.887010833,.843391446,.79335334,.737277337,.675590208,.608761429,.537299608,.461748613,.382683432,.3007058,.216439614,.130526192,.043619387]),r.WINDOW_S=new Float32Array([.130526192,.382683432,.608761429,.79335334,.923879533,.991444861,.991444861,.923879533,.79335334,.608761429,.382683432,.130526192]),r.IS_TABLE=new Float32Array([0,.211324865,.366025404,.5,.633974596,.788675135,1]),r.IS_LSF_TABLE=[new Float32Array([.840896415,.707106781,.594603558,.5,.420448208,.353553391,.297301779,.25,.210224104,.176776695,.148650889,.125,.105112052,.088388348,.074325445]),new Float32Array([.707106781,.5,.353553391,.25,.176776695,.125,.088388348,.0625,.044194174,.03125,.022097087,.015625,.011048543,.0078125,.005524272])],r.SFLEN_TABLE=[{slen1:0,slen2:0},{slen1:0,slen2:1},{slen1:0,slen2:2},{slen1:0,slen2:3},{slen1:3,slen2:0},{slen1:1,slen2:1},{slen1:1,slen2:2},{slen1:1,slen2:3},{slen1:2,slen2:1},{slen1:2,slen2:2},{slen1:2,slen2:3},{slen1:3,slen2:1},{slen1:3,slen2:2},{slen1:3,slen2:3},{slen1:4,slen2:2},{slen1:4,slen2:3}],r.NSFB_TABLE=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]]},{}],15:[function(t,e,r){r.makeArray=function(t,e){if(e||(e=Float64Array),1===t.length)return new e(t[0]);for(var i=[],a=t[0],n=0;n<a;n++)i[n]=r.makeArray(t.slice(1),e);return i}},{}]},{},[1])},function(t,e,r){"use strict";r.r(e);var i=r(0);r(1),r(2),r(3);var a=i.Decoder.find("mp3"),n=a.prototype.readChunk;a.prototype.readChunk=function(){var t=this.mp3_stream.sync,e=this.mp3_stream.next_frame;try{return n.bind(this)()}catch(r){throw this.mp3_stream.sync=t,this.mp3_stream.next_frame=e,r}};var s=i,o={},f={start:function(t){o[t]=performance.now()},stop:function(t){var e=performance.now(),r=o[t];void 0===r&&console.warn('Timer "'.concat(t,'" doesn’t exist')),delete o[t],console.debug("".concat(t,": ").concat(e-r," ms"))}};onmessage=function(t){var e=t.data.file;f.start(e.name+" [1.1] Decode file to buffer");var r,i=s.Asset.fromFile(e),a={},n=0,o=function(){if(3===n){f.stop(e.name+" [1.1] Decode file to buffer"),function(t,e,r){f.start(r.name+" [1.2] Parse buffer");var i=Math.max,a=Math.abs,n=Math.pow,s=Math.sqrt,o=t.numChannels,h=[],l=0,u=0;t.numSamples=e.length/o;for(var c=0;c<o;++c){for(var d=new Float32Array(t.numSamples),p=0,m=0,v=c,y=-1;v<e.length;v+=o)d[++y]=e[v],m=i(m,a(e[v])),p+=n(e[v],2);var b=s(p/t.numSamples);h[c]={peak:m,rms:b,crest:m/b,graph:d},l+=p,u=i(u,m)}t.channels=h,t.peak=u,t.rms=s(l/(t.numSamples*t.numChannels)),t.crest=t.peak/t.rms,f.stop(r.name+" [1.2] Parse buffer")}(a,r,e);var t=a.channels.map((function(t){return t.graph.buffer}));postMessage(a,t)}};i.on("error",(function(t){throw Error(t)})),i.on("format",(function(t){a.numChannels=t.channelsPerFrame,a.sampleRate=t.sampleRate,a.bitDepth=t.bitsPerChannel||16,++n,o()})),i.on("duration",(function(t){a.duration=Math.floor(t/1e3),++n,o()})),i.decodeToBuffer((function(t){r=t,++n,o()}))}}]);